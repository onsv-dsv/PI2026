<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_9461218a6e49b047dca9bfc3982c3291 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        LA_LIBERTAD-TRUJILLO-MOCHE
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Nuevas</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#7dd3fc; border-radius:50%;"></span>
            <span>Celeste: Mantenimiento</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_9461218a6e49b047dca9bfc3982c3291" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_9461218a6e49b047dca9bfc3982c3291 = L.map(
                "map_9461218a6e49b047dca9bfc3982c3291",
                {
                    center: [-8.17405125, -79.007912],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_9461218a6e49b047dca9bfc3982c3291);

            

        
    
            var tile_layer_8d1887217d021adc3937b4b7e8ae80fe = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_8d1887217d021adc3937b4b7e8ae80fe.addTo(map_9461218a6e49b047dca9bfc3982c3291);
        
    
            var feature_group_67b55b60145ee798c272359414f3b062 = L.featureGroup(
                {
}
            );
        
    
        function geo_json_b5f1396f584623f2aba950c99c10b23a_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_b5f1396f584623f2aba950c99c10b23a_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_b5f1396f584623f2aba950c99c10b23a = L.geoJson(null, {
                onEachFeature: geo_json_b5f1396f584623f2aba950c99c10b23a_onEachFeature,
            
                style: geo_json_b5f1396f584623f2aba950c99c10b23a_styler,
            ...{
}
        });

        function geo_json_b5f1396f584623f2aba950c99c10b23a_add (data) {
            geo_json_b5f1396f584623f2aba950c99c10b23a
                .addData(data);
        }
            geo_json_b5f1396f584623f2aba950c99c10b23a_add({"features": [{"geometry": {"coordinates": [[[[-78.98382423799995, -8.127029350999976], [-78.98323998799992, -8.127039975999935], [-78.98277411299995, -8.126951725999959], [-78.98274661299996, -8.127558225999962], [-78.98285436299994, -8.128417600999967], [-78.98293311299994, -8.13171560099994], [-78.98324248799997, -8.133642975999976], [-78.98367973799998, -8.134763600999975], [-78.98389261299985, -8.135294976999887], [-78.984232363, -8.136376976999884], [-78.98431961299991, -8.136609101999966], [-78.98437661299994, -8.136784851999948], [-78.98442061299994, -8.136934100999952], [-78.98442511299993, -8.137057100999925], [-78.98437836299996, -8.137181100999953], [-78.98426798799989, -8.137247350999928], [-78.98389923799994, -8.137468725999952], [-78.98306448799997, -8.13805660099996], [-78.98236523799994, -8.138685726999938], [-78.98159261299998, -8.139600851999887], [-78.98088086299998, -8.140536225999938], [-78.9794869879999, -8.141957225999931], [-78.97838498799996, -8.143187850999936], [-78.97755836299996, -8.144198100999972], [-78.97697061299982, -8.144951225999932], [-78.9766583629999, -8.14575947599991], [-78.97623586299994, -8.147045226999978], [-78.97603373799984, -8.14777997699997], [-78.97556198799998, -8.148826100999884], [-78.97490636299989, -8.149871100999974], [-78.97432536299988, -8.151201350999884], [-78.97348373799997, -8.153127725999923], [-78.97296998799999, -8.15443985099995], [-78.97171673799994, -8.157640475999926], [-78.97158048799997, -8.157988350999915], [-78.97151386299998, -8.158158600999968], [-78.97095111299996, -8.159595726999953], [-78.9706854879999, -8.16028710099988], [-78.97042186299996, -8.160898601999918], [-78.97007448799997, -8.161661350999907], [-78.96900786299983, -8.16364860199991], [-78.96718648799992, -8.16481560099993], [-78.96605648799988, -8.165210976999958], [-78.96438823799997, -8.165744225999958], [-78.96370873799998, -8.166001350999977], [-78.96286373799995, -8.166184976999887], [-78.9623309879999, -8.16638710199993], [-78.96175348799994, -8.166667975999928], [-78.96206723799992, -8.167177726999967], [-78.96255736299997, -8.16756985099994], [-78.96345598799991, -8.167810850999956], [-78.96430236299994, -8.16782135099993], [-78.96519161299989, -8.167832351999948], [-78.96553323799992, -8.167836600999976], [-78.96682636299988, -8.167852725999978], [-78.96692986299985, -8.16785397599989], [-78.96861661299994, -8.16798710099988], [-78.96916911299985, -8.168030725999927], [-78.96949623799998, -8.168056476999936], [-78.9698104879999, -8.168089850999934], [-78.97047461299996, -8.168224600999906], [-78.97100586299996, -8.168384726999932], [-78.97148236299995, -8.168519475999972], [-78.97195311299998, -8.168718725999952], [-78.97370311299983, -8.169478601999913], [-78.97434961299996, -8.169738225999936], [-78.97530661299999, -8.170216850999907], [-78.97623648799998, -8.170455100999902], [-78.97703123799994, -8.170720725999956], [-78.97766986299996, -8.170908225999938], [-78.97827923799991, -8.170986351999886], [-78.97891598799993, -8.170986350999897], [-78.97963473799996, -8.170958975999952], [-78.98061523799993, -8.170958975999952], [-78.98184173799996, -8.170947225999953], [-78.98301948799997, -8.170890600999883], [-78.98436723799995, -8.170949225999948], [-78.98593161299988, -8.171064476999959], [-78.98757036299986, -8.171316350999916], [-78.98982611299988, -8.171771476999936], [-78.99178911299987, -8.172109351999893], [-78.99289936299988, -8.172351350999975], [-78.99338261299988, -8.172435600999904], [-78.99383486299985, -8.172510975999899], [-78.9939013629999, -8.172564100999978], [-78.99395898799997, -8.172648351999896], [-78.99404323799996, -8.172896726999966], [-78.99422061299998, -8.173282600999926], [-78.99442011299993, -8.173645975999932], [-78.99463823799988, -8.174074475999873], [-78.99596986299991, -8.176616725999907], [-78.99686136299988, -8.178197225999952], [-78.99731248799998, -8.179249975999937], [-78.99750198799995, -8.180148475999829], [-78.99742573799995, -8.181804725999882], [-78.99712498799994, -8.184284975999958], [-78.99701173799997, -8.186277350999944], [-78.99683786299988, -8.187527351999904], [-78.99686523799994, -8.188562476999948], [-78.99691798799995, -8.189570351999919], [-78.99697073799996, -8.190447225999833], [-78.99707611299988, -8.191189476999966], [-78.99720698799996, -8.192171850999955], [-78.99744923799994, -8.192968850999932], [-78.99779298799996, -8.194164100999956], [-78.99820311299999, -8.19491997599988], [-78.99888286299989, -8.196574226999871], [-78.99929486299999, -8.198302726999941], [-78.99936323799994, -8.198353476999955], [-79.00000386399984, -8.197117225999875], [-79.00222661299989, -8.195248101999937], [-79.00336723799995, -8.194277475999911], [-79.00438673799994, -8.19335160099996], [-79.00442386299989, -8.19330660099996], [-79.0047343629999, -8.193027350999955], [-79.00505273799996, -8.192792975999964], [-79.0053613629999, -8.192550725999979], [-79.00568161299992, -8.192271475999974], [-79.00587298799996, -8.192074225999875], [-79.00622848799998, -8.191749976999972], [-79.00638286299994, -8.191597601999888], [-79.00672848799996, -8.191273475999878], [-79.00747673799998, -8.19063672599998], [-79.00767773799998, -8.190437475999886], [-79.00782223799996, -8.190285100999915], [-79.00802348799994, -8.190078100999926], [-79.0081426129999, -8.189925725999956], [-79.00822461299992, -8.189880850999941], [-79.00829686299988, -8.189763726999956], [-79.00834373799995, -8.18965422599996], [-79.00934573799998, -8.188593725999965], [-79.01109573799994, -8.187109350999947], [-79.0128281129999, -8.18549997599996], [-79.01456036299999, -8.18394535099992], [-79.01616411299995, -8.182271475999869], [-79.01722661299993, -8.181171850999931], [-79.01775198799999, -8.180634725999937], [-79.01929298799996, -8.178871100999913], [-79.02078123799998, -8.17698835099992], [-79.02239648799997, -8.175304726999968], [-79.02410936399991, -8.173830100999908], [-79.02583986299993, -8.172492225999974], [-79.02745311299992, -8.171025350999912], [-79.02902923799996, -8.169587850999903], [-79.03061523799988, -8.168158225999946], [-79.03085548799999, -8.167933600999902], [-79.03217386299997, -8.166708975999939], [-79.03372661299994, -8.165244100999871], [-79.03524611299997, -8.163777350999908], [-79.03676948799989, -8.162419975999967], [-79.03689061299997, -8.16230272599995], [-79.0382617379999, -8.160990225999967], [-79.0379902379999, -8.160978475999968], [-79.03752923899998, -8.160937475999958], [-79.03700198799999, -8.160867225999937], [-79.03647461299994, -8.160964850999903], [-79.03631836299996, -8.160968725999965], [-79.03631261299995, -8.16097072599996], [-79.03628511299996, -8.16097072599996], [-79.03548636399995, -8.160966850999898], [-79.03491411299996, -8.160964850999903], [-79.03454298799988, -8.160908226999936], [-79.03449023799999, -8.160564475999934], [-79.03447461299993, -8.160238225999933], [-79.03452923799989, -8.160003851999875], [-79.03462111299996, -8.159679725999979], [-79.0345957379999, -8.159290975999966], [-79.03434373799985, -8.158865225999932], [-79.03396486299994, -8.158609350999882], [-79.03358398799998, -8.158634725999946], [-79.03337298799988, -8.158814600999904], [-79.03330861299997, -8.159257850999893], [-79.03332423799998, -8.159681600999875], [-79.0332422379999, -8.159808600999895], [-79.03307811299993, -8.15978122699994], [-79.03280661299993, -8.159634725999979], [-79.03244723799997, -8.159279350999896], [-79.0315429879999, -8.158570350999923], [-79.03117186299994, -8.158289100999923], [-79.03087698799999, -8.15742772599998], [-79.03073436299997, -8.156921850999879], [-79.03059173899999, -8.156324225999981], [-79.03037498799989, -8.156015600999979], [-79.03000598799991, -8.155734350999978], [-79.02962498799997, -8.155378850999853], [-79.02927536299995, -8.15468947699992], [-79.02902536299996, -8.153695350999897], [-79.02877536299997, -8.152833975999954], [-79.02865036299994, -8.152408225999977], [-79.02835348799988, -8.15190235199998], [-79.02780473799999, -8.151310600999864], [-79.0267283629999, -8.151256225999873], [-79.02543548799997, -8.151181600999848], [-79.02405273899996, -8.150433600999975], [-79.02160936299992, -8.148884725999949], [-79.02136723799998, -8.148513725999976], [-79.02088861399989, -8.148167975999968], [-79.02038861299991, -8.148138725999956], [-79.01976173799983, -8.148269475999939], [-79.01914448799994, -8.14846685099991], [-79.01877148799997, -8.148500100999911], [-79.01806636299995, -8.148099475999913], [-79.01800386299993, -8.147790975999953], [-79.01799798799993, -8.147140601999979], [-79.01811911399989, -8.146572226999922], [-79.01784961299995, -8.145937475999972], [-79.01698823799995, -8.14599610099998], [-79.01608986299993, -8.145857475999946], [-79.01542186299991, -8.14524810099988], [-79.01486723899995, -8.14391597599996], [-79.01415998799996, -8.143451225999968], [-79.01307423799994, -8.143076226999938], [-79.01115423899995, -8.142406351999966], [-79.0094413629999, -8.142064475999973], [-79.0088416129999, -8.142142600999875], [-79.00786523799997, -8.141404350999892], [-79.00704298799997, -8.140966851999963], [-79.00655273799998, -8.141081976999885], [-79.00576361299989, -8.140915975999917], [-79.00523823799995, -8.14056060099989], [-79.00451561299991, -8.139933601999928], [-79.00376948799999, -8.13867185099997], [-79.00314836299987, -8.137531225999908], [-79.00206836299992, -8.13615035099997], [-78.99999998799996, -8.132603476999918], [-78.99742386299988, -8.130306600999972], [-78.99625786399997, -8.129460975999905], [-78.9952461129999, -8.1285507259999], [-78.99425973799998, -8.127976600999943], [-78.99263861299988, -8.127742226999885], [-78.99174798799993, -8.127748100999952], [-78.9905253629999, -8.127632850999873], [-78.98986323799994, -8.127656100999957], [-78.98962498799995, -8.127990225999895], [-78.98944923799996, -8.12857622599995], [-78.98930273799994, -8.128828100999954], [-78.98876761299988, -8.12895310099998], [-78.98847648799995, -8.128878850999968], [-78.98808011299991, -8.128669850999927], [-78.98726761299986, -8.127861350999979], [-78.98679686299988, -8.127533225999912], [-78.98569336299988, -8.12701172699991], [-78.98516798799994, -8.126873100999944], [-78.98475973799992, -8.126863225999898], [-78.98382423799995, -8.127029350999976]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "MOCHE", "CODCCPP": "0001", "DEPARTAMEN": "LA LIBERTAD", "DISTRITO": "MOCHE", "FUENTE": "INEI", "IDDIST": "130107", "IDDPTO": "13", "IDPROV": "1301", "PROVINCIA": "TRUJILLO"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_b5f1396f584623f2aba950c99c10b23a.addTo(feature_group_67b55b60145ee798c272359414f3b062);
        
    
            feature_group_67b55b60145ee798c272359414f3b062.addTo(map_9461218a6e49b047dca9bfc3982c3291);
        
    
            var feature_group_d597e6104514e7564b6dc34af52c84c5 = L.featureGroup(
                {
}
            );
        
    
            var circle_742a6b14533b9b61f2954a62a7e1a7c4 = L.circle(
                [-8.169318000000002, -79.005496],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_d597e6104514e7564b6dc34af52c84c5);
        
    
            var circle_ef09458912e94dd5f399462ab724d914 = L.circle(
                [-8.187, -79.0067],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_d597e6104514e7564b6dc34af52c84c5);
        
    
            var circle_adc36de14acf84f66a14485a8b33d3b9 = L.circle(
                [-8.169967, -79.009952],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_d597e6104514e7564b6dc34af52c84c5);
        
    
            var circle_2db1c11668a68a28b649b69609d212c1 = L.circle(
                [-8.16992, -79.0095],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_d597e6104514e7564b6dc34af52c84c5);
        
    
            feature_group_d597e6104514e7564b6dc34af52c84c5.addTo(map_9461218a6e49b047dca9bfc3982c3291);
        
    
            var feature_group_0822b69a8c0a50a4cc42e60ee76f81d1 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_3beea568e6b1b77e9a12fd00f4372b22 = L.circleMarker(
                [-8.169318000000002, -79.005496],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_0822b69a8c0a50a4cc42e60ee76f81d1);
        
    
        var popup_8b2c00f95fe16f814ba8baa2759d2d2b = L.popup({
  "maxWidth": 420,
});

        
            
                var html_09c4bd710fffddfdea0a33e3d165aa0a = $(`<div id="html_09c4bd710fffddfdea0a33e3d165aa0a" style="width: 100.0%; height: 100.0%;"><b>80047 RAMIRO AURELIO √ëIQUE ESPIRITU</b><br>C√≥digo CE: 254916<br>UBIGEO gestor: 130107<br>Latitud: -8.169318000000002<br>Longitud: -79.005496<br>Alumnos: 1763<br>Docentes: 68<br>Siniestros: 0</div>`)[0];
                popup_8b2c00f95fe16f814ba8baa2759d2d2b.setContent(html_09c4bd710fffddfdea0a33e3d165aa0a);
            
        

        circle_marker_3beea568e6b1b77e9a12fd00f4372b22.bindPopup(popup_8b2c00f95fe16f814ba8baa2759d2d2b)
        ;

        
    
    
            circle_marker_3beea568e6b1b77e9a12fd00f4372b22.bindTooltip(
                `<div>
                     80047 ramiro aurelio √±ique espiritu | 254916
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_3f9fe4940e60c214292ca86db557bc5e = L.circleMarker(
                [-8.187, -79.0067],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_0822b69a8c0a50a4cc42e60ee76f81d1);
        
    
        var popup_f3673bdfe12865827b97c42326df52c7 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_63ea341d640d6da0a45f3c73fb6720f1 = $(`<div id="html_63ea341d640d6da0a45f3c73fb6720f1" style="width: 100.0%; height: 100.0%;"><b>80049 SAN JUDAS TADEO</b><br>C√≥digo CE: 254935<br>UBIGEO gestor: 130107<br>Latitud: -8.187<br>Longitud: -79.0067<br>Alumnos: 215<br>Docentes: 11<br>Siniestros: 0</div>`)[0];
                popup_f3673bdfe12865827b97c42326df52c7.setContent(html_63ea341d640d6da0a45f3c73fb6720f1);
            
        

        circle_marker_3f9fe4940e60c214292ca86db557bc5e.bindPopup(popup_f3673bdfe12865827b97c42326df52c7)
        ;

        
    
    
            circle_marker_3f9fe4940e60c214292ca86db557bc5e.bindTooltip(
                `<div>
                     80049 san judas tadeo | 254935
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_8791ffa0824c76446c452a6c08ce4352 = L.circleMarker(
                [-8.169967, -79.009952],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_0822b69a8c0a50a4cc42e60ee76f81d1);
        
    
        var popup_2d6a297c66e7d109027b9c50fda7caa1 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_0bd1b1b020d8ca91f032cea019753ead = $(`<div id="html_0bd1b1b020d8ca91f032cea019753ead" style="width: 100.0%; height: 100.0%;"><b>SANTO DOMINGO DE GUZMAN</b><br>C√≥digo CE: 254997<br>UBIGEO gestor: 130107<br>Latitud: -8.169967<br>Longitud: -79.009952<br>Alumnos: 617<br>Docentes: 38<br>Siniestros: 0</div>`)[0];
                popup_2d6a297c66e7d109027b9c50fda7caa1.setContent(html_0bd1b1b020d8ca91f032cea019753ead);
            
        

        circle_marker_8791ffa0824c76446c452a6c08ce4352.bindPopup(popup_2d6a297c66e7d109027b9c50fda7caa1)
        ;

        
    
    
            circle_marker_8791ffa0824c76446c452a6c08ce4352.bindTooltip(
                `<div>
                     santo domingo de guzman | 254997
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_626cf11f4a15aa0cb5025cf491d4b5b4 = L.circleMarker(
                [-8.16992, -79.0095],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_0822b69a8c0a50a4cc42e60ee76f81d1);
        
    
        var popup_9f3a7e9a03090691b4a31fe261362cbc = L.popup({
  "maxWidth": 420,
});

        
            
                var html_366c9ff2f7c4ac76f3d83376a1fbfd48 = $(`<div id="html_366c9ff2f7c4ac76f3d83376a1fbfd48" style="width: 100.0%; height: 100.0%;"><b>RENOVACION</b><br>C√≥digo CE: 532923<br>UBIGEO gestor: 130107<br>Latitud: -8.16992<br>Longitud: -79.0095<br>Alumnos: 217<br>Docentes: 25<br>Siniestros: 0</div>`)[0];
                popup_9f3a7e9a03090691b4a31fe261362cbc.setContent(html_366c9ff2f7c4ac76f3d83376a1fbfd48);
            
        

        circle_marker_626cf11f4a15aa0cb5025cf491d4b5b4.bindPopup(popup_9f3a7e9a03090691b4a31fe261362cbc)
        ;

        
    
    
            circle_marker_626cf11f4a15aa0cb5025cf491d4b5b4.bindTooltip(
                `<div>
                     renovacion | 532923
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_0822b69a8c0a50a4cc42e60ee76f81d1.addTo(map_9461218a6e49b047dca9bfc3982c3291);
        
    
            var feature_group_4d818c79d5f21b382cee92010d7281ac = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_5f25458141aac5b8ab5ca1df35d5658b = L.circleMarker(
                [-8.14565, -79.012371],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_2ab00ad52b269d788cb245fc478dd617 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f711ed8b2b7cea4400c86fef06f827c0 = $(`<div id="html_f711ed8b2b7cea4400c86fef06f827c0" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-06-239</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>24/06/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>13:00</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>MUERTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>6</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 561</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>LLANTERIA PAPILON</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.14565</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.012371</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>OTRO (IMPRUDENCIA DEL CONDUCTOR)</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'>DESATENCION EN LA CONDUCCION </td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_2ab00ad52b269d788cb245fc478dd617.setContent(html_f711ed8b2b7cea4400c86fef06f827c0);
            
        

        circle_marker_5f25458141aac5b8ab5ca1df35d5658b.bindPopup(popup_2ab00ad52b269d788cb245fc478dd617)
        ;

        
    
    
            var circle_marker_385ee069fa108d1a38a2b925e2fe5b2f = L.circleMarker(
                [-8.166197, -79.021426],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_04de12ae63c13cee0eb6bfa426f99c46 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f9c707c58e4436724d4439fdca42e7cd = $(`<div id="html_f9c707c58e4436724d4439fdca42e7cd" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-11-58</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>03/11/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>21:50</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV LAS AMERICAS </td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>ALTURA DE LA CASA EL RETIRO SAN FRANCISCO </td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.166197</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.021426</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>CONDUCIR EN ESTADO DE EBRIEDAD Y/O DROGADICCI√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_04de12ae63c13cee0eb6bfa426f99c46.setContent(html_f9c707c58e4436724d4439fdca42e7cd);
            
        

        circle_marker_385ee069fa108d1a38a2b925e2fe5b2f.bindPopup(popup_04de12ae63c13cee0eb6bfa426f99c46)
        ;

        
    
    
            var circle_marker_975543dc7a88715d583ee40252026b87 = L.circleMarker(
                [-8.147617, -79.005415],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_00a5a6009afe146d27b53e725899801e = L.popup({
  "maxWidth": 420,
});

        
            
                var html_b8aa259a6361cdf949cf296fc73f4ed8 = $(`<div id="html_b8aa259a6361cdf949cf296fc73f4ed8" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2022-04-105</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>09/04/2022</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>21:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CA√çDA DE PASAJERO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA CAMPI√ëA DE MOCHE ALTURA DEL LOCAL DE CABALLOS DE PASO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.147617</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.005415</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_00a5a6009afe146d27b53e725899801e.setContent(html_b8aa259a6361cdf949cf296fc73f4ed8);
            
        

        circle_marker_975543dc7a88715d583ee40252026b87.bindPopup(popup_00a5a6009afe146d27b53e725899801e)
        ;

        
    
    
            var circle_marker_4d214e2d328dbba64a77a957602bfc6d = L.circleMarker(
                [-8.150144, -79.011424],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_a01382a3b3a2bf2e3905f991588f6528 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_8661ac574d010bee725075205d726fc6 = $(`<div id="html_8661ac574d010bee725075205d726fc6" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2022-07-105</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>26/07/2022</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>20:00</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>DESPISTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE FRENTE AL GRIFO EL DELFIN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>CURVA DEL SUN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.150144</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.011424</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_a01382a3b3a2bf2e3905f991588f6528.setContent(html_8661ac574d010bee725075205d726fc6);
            
        

        circle_marker_4d214e2d328dbba64a77a957602bfc6d.bindPopup(popup_a01382a3b3a2bf2e3905f991588f6528)
        ;

        
    
    
            var circle_marker_23b4b35f62638e1420b60faa14c0eef6 = L.circleMarker(
                [-8.15069, -79.010301],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_e78e1aa13aafd5b7dbf9ec5ad925d67d = L.popup({
  "maxWidth": 420,
});

        
            
                var html_47298e021434235ac2b66f65521cbf37 = $(`<div id="html_47298e021434235ac2b66f65521cbf37" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2022-07-66</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>11/07/2022</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>16:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA CAMPINA DE MOCHE ALTURA DEL PASAJE SIN NOMBRE REFERENCIA RESTAURANTE DON TEO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.15069</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.010301</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL PEAT√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>OTRO (IMPRUDENCIA DEL PEAT√ìN)</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'>NEGLIGENCIA DEL PEATON, POR EL CRUCE INDEBIDO DE LA CARRETERA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_e78e1aa13aafd5b7dbf9ec5ad925d67d.setContent(html_47298e021434235ac2b66f65521cbf37);
            
        

        circle_marker_23b4b35f62638e1420b60faa14c0eef6.bindPopup(popup_e78e1aa13aafd5b7dbf9ec5ad925d67d)
        ;

        
    
    
            var circle_marker_1cd091694325ab9c1d4b412a0ebaf845 = L.circleMarker(
                [-8.172859, -78.999754],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_8d4b96aba34facf3c925a16e445b456b = L.popup({
  "maxWidth": 420,
});

        
            
                var html_5077428ca951ffd40b7b6b1eb1cff00b = $(`<div id="html_5077428ca951ffd40b7b6b1eb1cff00b" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2022-08-99</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>21/08/2022</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>20:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 558</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.172859</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-78.999754</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_8d4b96aba34facf3c925a16e445b456b.setContent(html_5077428ca951ffd40b7b6b1eb1cff00b);
            
        

        circle_marker_1cd091694325ab9c1d4b412a0ebaf845.bindPopup(popup_8d4b96aba34facf3c925a16e445b456b)
        ;

        
    
    
            var circle_marker_1cede7b47f7a9d0c40f26047a1385f24 = L.circleMarker(
                [-8.1678427, -79.0062774],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_519b2aa7a3cd8550c038b8ffe135123a = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f07f640b7f4b91b2ebb52716e864cbf7 = $(`<div id="html_f07f640b7f4b91b2ebb52716e864cbf7" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-03-36</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>23/03/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>08:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>DESPISTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 558</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.1678427</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.0062774</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_519b2aa7a3cd8550c038b8ffe135123a.setContent(html_f07f640b7f4b91b2ebb52716e864cbf7);
            
        

        circle_marker_1cede7b47f7a9d0c40f26047a1385f24.bindPopup(popup_519b2aa7a3cd8550c038b8ffe135123a)
        ;

        
    
    
            var circle_marker_dd62353bc27175ddca32a8ffe0c4b031 = L.circleMarker(
                [-8.1776853, -79.0122907],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_a9874c7c60b6285f7ee71411cd7beb2c = L.popup({
  "maxWidth": 420,
});

        
            
                var html_a21edf396db74d0d777828e7551d1446 = $(`<div id="html_a21edf396db74d0d777828e7551d1446" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-03-7</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>05/03/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>04:20</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>DESPISTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. INDEPENDENCIA S/N</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.1776853</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.0122907</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_a9874c7c60b6285f7ee71411cd7beb2c.setContent(html_a21edf396db74d0d777828e7551d1446);
            
        

        circle_marker_dd62353bc27175ddca32a8ffe0c4b031.bindPopup(popup_a9874c7c60b6285f7ee71411cd7beb2c)
        ;

        
    
    
            var circle_marker_2f470ce37b8e6b813e2612fccb46a669 = L.circleMarker(
                [-8.163953, -79.009976],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_d23279f21badc9635d25dffb2fc18c2d = L.popup({
  "maxWidth": 420,
});

        
            
                var html_9c2624b3af62314ac4950817f132db1f = $(`<div id="html_9c2624b3af62314ac4950817f132db1f" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-08-63</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>30/08/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>22:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 559</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.163953</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.009976</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_d23279f21badc9635d25dffb2fc18c2d.setContent(html_9c2624b3af62314ac4950817f132db1f);
            
        

        circle_marker_2f470ce37b8e6b813e2612fccb46a669.bindPopup(popup_d23279f21badc9635d25dffb2fc18c2d)
        ;

        
    
    
            var circle_marker_977bdb1591c7cea33a0e5248b96ea87f = L.circleMarker(
                [-8.157584446, -79.01213760061023],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_9d1e287ece9f06ed00f9d3a4d96e2487 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_3ae9aaa9101c4cf0b0e53a1524f09550 = $(`<div id="html_3ae9aaa9101c4cf0b0e53a1524f09550" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-09-83</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>29/09/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>22:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTEFRENTE AL GRIFO EL CHE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.157584446</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.01213760061023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>ADELANTAR INDEBIDAMENTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_9d1e287ece9f06ed00f9d3a4d96e2487.setContent(html_3ae9aaa9101c4cf0b0e53a1524f09550);
            
        

        circle_marker_977bdb1591c7cea33a0e5248b96ea87f.bindPopup(popup_9d1e287ece9f06ed00f9d3a4d96e2487)
        ;

        
    
    
            var circle_marker_2f7668789403ad8d52f2728a778f1cb7 = L.circleMarker(
                [-8.15767336, -79.01224176],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_9629895d4bfc2891fc0f9ca65fb36f46 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f200a24d086809ea46b8db7df6b069d2 = $(`<div id="html_f200a24d086809ea46b8db7df6b069d2" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2024-02-32</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>18/02/2024</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>20:10</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. LA MARINA ALTURA DEL GRIFO EL CHE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.15767336</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.01224176</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_9629895d4bfc2891fc0f9ca65fb36f46.setContent(html_f200a24d086809ea46b8db7df6b069d2);
            
        

        circle_marker_2f7668789403ad8d52f2728a778f1cb7.bindPopup(popup_9629895d4bfc2891fc0f9ca65fb36f46)
        ;

        
    
    
            var circle_marker_e5916d958e897668d412dd83476b1d81 = L.circleMarker(
                [-8.167848812, -79.00640839403039],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_ba2d55a97de79a25e9bb53c040ebed9c = L.popup({
  "maxWidth": 420,
});

        
            
                var html_7f038166d3a6e2e051ff441ffa16491b = $(`<div id="html_7f038166d3a6e2e051ff441ffa16491b" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2024-04-36</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>13/04/2024</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>20:20</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 554</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.167848812</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.00640839403039</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_ba2d55a97de79a25e9bb53c040ebed9c.setContent(html_7f038166d3a6e2e051ff441ffa16491b);
            
        

        circle_marker_e5916d958e897668d412dd83476b1d81.bindPopup(popup_ba2d55a97de79a25e9bb53c040ebed9c)
        ;

        
    
    
            var circle_marker_9ef55c386072462ea4c16601faa147c3 = L.circleMarker(
                [-8.169461012, -79.0041184355],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_c090a45ad9146e19f8ff4219b416cdc5 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_c7f947d47c84aacffa5a895b15e096ea = $(`<div id="html_c7f947d47c84aacffa5a895b15e096ea" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2024-05-39</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>16/05/2024</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>05:40</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 541</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.169461012</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.0041184355</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_c090a45ad9146e19f8ff4219b416cdc5.setContent(html_c7f947d47c84aacffa5a895b15e096ea);
            
        

        circle_marker_9ef55c386072462ea4c16601faa147c3.bindPopup(popup_c090a45ad9146e19f8ff4219b416cdc5)
        ;

        
    
    
            var circle_marker_653629c885576f67818bbe60f074e71c = L.circleMarker(
                [-8.158494691, -79.0122101523],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_e2e558ed6730e950a9b5e0117aff13a2 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_b1ae61f04e185e5d92af67e38f514df3 = $(`<div id="html_b1ae61f04e185e5d92af67e38f514df3" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2024-10-27</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>29/10/2024</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>19:40</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL KM. 558</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.158494691</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.0122101523</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_e2e558ed6730e950a9b5e0117aff13a2.setContent(html_b1ae61f04e185e5d92af67e38f514df3);
            
        

        circle_marker_653629c885576f67818bbe60f074e71c.bindPopup(popup_e2e558ed6730e950a9b5e0117aff13a2)
        ;

        
    
    
            var circle_marker_f83637336ee1964c36ca3219e83f0575 = L.circleMarker(
                [-8.154496154, -79.012340231],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4d818c79d5f21b382cee92010d7281ac);
        
    
        var popup_533f0d2d8c1038bb638cfa2ffc9a6df7 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_4c479b083c894ca8a10716a81c3f1d96 = $(`<div id="html_4c479b083c894ca8a10716a81c3f1d96" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2025-02-30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>15/02/2025</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>23:10</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA PANAMERICANA NORTE ALTURA DEL GRIFO PRIMAX</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.154496154</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-79.012340231</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_533f0d2d8c1038bb638cfa2ffc9a6df7.setContent(html_4c479b083c894ca8a10716a81c3f1d96);
            
        

        circle_marker_f83637336ee1964c36ca3219e83f0575.bindPopup(popup_533f0d2d8c1038bb638cfa2ffc9a6df7)
        ;

        
    
    
            feature_group_4d818c79d5f21b382cee92010d7281ac.addTo(map_9461218a6e49b047dca9bfc3982c3291);
        
    
            map_9461218a6e49b047dca9bfc3982c3291.fitBounds(
                [[-8.169318000000002, -79.005496], [-8.187, -79.0067], [-8.169967, -79.009952], [-8.16992, -79.0095]],
                {}
            );
        
    
            var layer_control_0aa4a64edea310d65a9cd9c41faaefd3_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_8d1887217d021adc3937b4b7e8ae80fe,
                },
                overlays :  {
                    "contorno" : feature_group_67b55b60145ee798c272359414f3b062,
                    "colegios: buffers" : feature_group_d597e6104514e7564b6dc34af52c84c5,
                    "colegios: puntos" : feature_group_0822b69a8c0a50a4cc42e60ee76f81d1,
                    "siniestros fatales" : feature_group_4d818c79d5f21b382cee92010d7281ac,
                },
            };
            let layer_control_0aa4a64edea310d65a9cd9c41faaefd3 = L.control.layers(
                layer_control_0aa4a64edea310d65a9cd9c41faaefd3_layers.base_layers,
                layer_control_0aa4a64edea310d65a9cd9c41faaefd3_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_9461218a6e49b047dca9bfc3982c3291);

        
    
        feature_group_0822b69a8c0a50a4cc42e60ee76f81d1.bringToFront();
        feature_group_4d818c79d5f21b382cee92010d7281ac.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_0822b69a8c0a50a4cc42e60ee76f81d1;
        var defaultTrue  = '#7dd3fc';
        var defaultFalse = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades de b√∫squeda ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              var st = (ly.options || {});
              if (!st._origColor) { st._origColor = st.color; }
              var orig = (st.color === hiliteColor) ? st._origColor : st.color;
              ly.setStyle({ color: orig || defaultFalse, fillColor: orig || defaultFalse });
            });
          }

          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly);
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                if (!ly.options._origColor) { ly.options._origColor = ly.options.color; }
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }
          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>