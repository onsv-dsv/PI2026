<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_e24c657fdcfa85697c0cdef4784cab3a {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        SAN_MARTIN-SAN_MARTIN-MORALES
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Nuevas</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#7dd3fc; border-radius:50%;"></span>
            <span>Celeste: Mantenimiento</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_e24c657fdcfa85697c0cdef4784cab3a" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_e24c657fdcfa85697c0cdef4784cab3a = L.map(
                "map_e24c657fdcfa85697c0cdef4784cab3a",
                {
                    center: [-6.481068857142857, -76.38245957142856],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_e24c657fdcfa85697c0cdef4784cab3a);

            

        
    
            var tile_layer_00515ce8041cd9868791e1f89393b28a = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_00515ce8041cd9868791e1f89393b28a.addTo(map_e24c657fdcfa85697c0cdef4784cab3a);
        
    
            var feature_group_8bb2c86ef347c9d9828f4fc6f86805bb = L.featureGroup(
                {
}
            );
        
    
        function geo_json_d225a4ca6768af14dd8c8523ea50ff5c_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_d225a4ca6768af14dd8c8523ea50ff5c_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_d225a4ca6768af14dd8c8523ea50ff5c = L.geoJson(null, {
                onEachFeature: geo_json_d225a4ca6768af14dd8c8523ea50ff5c_onEachFeature,
            
                style: geo_json_d225a4ca6768af14dd8c8523ea50ff5c_styler,
            ...{
}
        });

        function geo_json_d225a4ca6768af14dd8c8523ea50ff5c_add (data) {
            geo_json_d225a4ca6768af14dd8c8523ea50ff5c
                .addData(data);
        }
            geo_json_d225a4ca6768af14dd8c8523ea50ff5c_add({"features": [{"geometry": {"coordinates": [[[[-76.38068273499994, -6.49164809899986], [-76.38238461099996, -6.493461599999875], [-76.38419811099999, -6.495386598999914], [-76.38721410999989, -6.497631349999949], [-76.38901311099988, -6.498970223999947], [-76.38913898499999, -6.499063974999899], [-76.39043236099997, -6.49963884999994], [-76.39095648599994, -6.500009599999885], [-76.39352673599996, -6.501827599999956], [-76.39511173499989, -6.502733224999929], [-76.39669648599994, -6.503261474999931], [-76.39979086099999, -6.503563349999922], [-76.40175311099989, -6.503789848999929], [-76.40265873499987, -6.504242599999941], [-76.40547785999996, -6.505504099999939], [-76.40729686099996, -6.506783349999978], [-76.4097171109999, -6.512524099999894], [-76.40853748599983, -6.520634349999909], [-76.40690536099999, -6.527003849999971], [-76.40663898599996, -6.530015974999969], [-76.40387423599998, -6.536282849999907], [-76.40295273599997, -6.540153599999883], [-76.39918773499994, -6.551697599999898], [-76.40342761099998, -6.554263724999942], [-76.40481160999991, -6.555862099999956], [-76.4071418609999, -6.557765974999938], [-76.41077148599993, -6.559730848999948], [-76.41130123599999, -6.560017724999966], [-76.41216910999992, -6.560192098999948], [-76.41330348499997, -6.56042022399987], [-76.41642160999999, -6.561047099999882], [-76.41839373599998, -6.561830224999937], [-76.41917035999995, -6.561326848999954], [-76.42220223599998, -6.557593974999975], [-76.42466761099996, -6.554024474999949], [-76.42648898499993, -6.552451099999814], [-76.4271726099999, -6.552073974999871], [-76.42784685999999, -6.551702099999943], [-76.42963973599996, -6.550126224999929], [-76.43091836099995, -6.549002474999952], [-76.43246098599997, -6.548359348999895], [-76.43348748499989, -6.547824974999912], [-76.43391611099992, -6.547601849999864], [-76.43517561099986, -6.546962849999943], [-76.43692436099997, -6.544891474999872], [-76.43776198599988, -6.54364309999994], [-76.43880086099995, -6.542095224999969], [-76.43968948599996, -6.541200099999969], [-76.43982161099996, -6.541161974999909], [-76.44033773599995, -6.541012849999959], [-76.44223660999995, -6.540960349999921], [-76.44235748599988, -6.540881724999906], [-76.44308986099992, -6.54040509999993], [-76.44442748599994, -6.539918723999904], [-76.44527298599996, -6.539741849999928], [-76.44627523499997, -6.539366224999924], [-76.4468412359999, -6.538443349999966], [-76.4473622349999, -6.53792384999997], [-76.44886173599991, -6.537492474999965], [-76.45110198599991, -6.537227724999923], [-76.45250736099985, -6.536861099999953], [-76.45338961099992, -6.535990224999921], [-76.45407548599991, -6.534742974999972], [-76.4545456109999, -6.533888349999927], [-76.45519561099997, -6.532706348999909], [-76.45622498599994, -6.53207172499998], [-76.45851536099991, -6.531606599999975], [-76.45981886099997, -6.531341849999933], [-76.46059273499992, -6.530873473999975], [-76.46113348599994, -6.529791849999924], [-76.46191648599995, -6.528225849999956], [-76.46273048599988, -6.525990224999873], [-76.46272623499988, -6.52521234999989], [-76.4625591109999, -6.524374098999942], [-76.46197473499996, -6.523809848999974], [-76.46158686099994, -6.523435598999981], [-76.45957435999998, -6.521810474999882], [-76.45786360999989, -6.518409224999857], [-76.45632185999989, -6.516394223999953], [-76.45624548599994, -6.51612697499985], [-76.4559817359999, -6.515047349999975], [-76.45581248599984, -6.514354974999947], [-76.4556931109999, -6.512761473999831], [-76.4556814849999, -6.512456099999952], [-76.45561848599993, -6.51079097399986], [-76.45559148599995, -6.510077599999875], [-76.45556811099993, -6.509463974999903], [-76.45416386099993, -6.505528473999902], [-76.453671736, -6.504039974999955], [-76.4533648609999, -6.503112224999938], [-76.45184373599989, -6.500009724999813], [-76.44570048499992, -6.493608348999942], [-76.44451310999989, -6.492530224999939], [-76.44239023599994, -6.491615724999917], [-76.44038111099997, -6.491263973999935], [-76.43623398599993, -6.49114222399993], [-76.42831423599995, -6.49138709999994], [-76.42330123499994, -6.491542224999876], [-76.41554448599999, -6.492285223999886], [-76.41256835999991, -6.492570348999948], [-76.41014760999991, -6.493049349999978], [-76.4092031109999, -6.493236349999904], [-76.40877748599996, -6.493106849999947], [-76.40828086099998, -6.492955724999945], [-76.40719535999989, -6.491968724999936], [-76.40575148499988, -6.48998359999996], [-76.40549373599998, -6.489629099999945], [-76.40128211099994, -6.484669849999875], [-76.39819336099998, -6.48014647499997], [-76.39715623599994, -6.47784959899991], [-76.3963793609999, -6.475840724999955], [-76.39605798499997, -6.474679848999926], [-76.39584386099989, -6.473905974999923], [-76.39525948599999, -6.470857474999946], [-76.39516423499998, -6.46921572399998], [-76.39525948599999, -6.468073599999911], [-76.39652061099997, -6.466955224999936], [-76.39895698499998, -6.46438672499994], [-76.39999423599994, -6.462027473999967], [-76.40085123599988, -6.460078598999928], [-76.40120810999991, -6.457461224999975], [-76.40204335999994, -6.45563134899993], [-76.40599086099996, -6.453463724999892], [-76.40758173599988, -6.450964473999875], [-76.40862761099999, -6.448166598999933], [-76.40872698599998, -6.447900974999868], [-76.40966823599996, -6.445382849999817], [-76.40937923599995, -6.443724473999907], [-76.40757598599993, -6.439216598999963], [-76.40739448599993, -6.436972598999944], [-76.40615723599996, -6.437698349999948], [-76.40527698499994, -6.438673974999915], [-76.40438648599991, -6.440124599999933], [-76.40195036099988, -6.443891849999886], [-76.40096998599995, -6.445407849999924], [-76.40044723499994, -6.446216098999912], [-76.40008548599997, -6.446775473999935], [-76.39961498499991, -6.447502974999907], [-76.39851911099993, -6.448144224999965], [-76.39737698599993, -6.448572474999935], [-76.39580661099995, -6.448881849999964], [-76.39456136099994, -6.449127098999895], [-76.3942819849999, -6.449182099999916], [-76.3937937359999, -6.449278224999887], [-76.39339648599992, -6.449356599999874], [-76.39330135999995, -6.449375223999937], [-76.38969536099995, -6.45104522399987], [-76.38862948599996, -6.451679723999973], [-76.38832373499997, -6.451833974999943], [-76.38601398499998, -6.45299984899998], [-76.38504536099992, -6.453711474999977], [-76.38420473599996, -6.453970099999935], [-76.38323486099989, -6.454487349999965], [-76.38231985999994, -6.454869973999962], [-76.38264998499989, -6.455719974999965], [-76.38270998499996, -6.45596997499996], [-76.38276998599997, -6.45661997499991], [-76.38262998599993, -6.457289974999924], [-76.3820799859999, -6.458479973999886], [-76.38206648599993, -6.458494974999894], [-76.38188998599998, -6.45868997499997], [-76.38179998599992, -6.458719973999962], [-76.3815174859999, -6.458977474999926], [-76.3802926109999, -6.459435224999879], [-76.3793951109999, -6.459632098999919], [-76.3791299859999, -6.459709849999967], [-76.3789499859999, -6.459889974999953], [-76.37876648499991, -6.459960599999931], [-76.37868998599998, -6.459989974999871], [-76.37863048499997, -6.460041974999911], [-76.37824423599994, -6.460378848999881], [-76.37802048599991, -6.460469473999922], [-76.37712923499998, -6.460830474999966], [-76.37694136099998, -6.460943599999894], [-76.37641636099988, -6.461259474999906], [-76.37527998599995, -6.462169973999949], [-76.37526998599998, -6.462249973999974], [-76.37465998499988, -6.463210098999923], [-76.37429998499994, -6.464049973999977], [-76.3732099849999, -6.467719973999976], [-76.37301998599997, -6.46885997399994], [-76.3731136109999, -6.469837473999917], [-76.37353873599994, -6.473625598999945], [-76.37384798499994, -6.476640724999925], [-76.37400260999993, -6.479153223999958], [-76.37489173499995, -6.481859099999951], [-76.37515873599995, -6.483027224999944], [-76.37630260999998, -6.485482348999938], [-76.37780911099992, -6.488076974999956], [-76.37941423499996, -6.490517724999961], [-76.38068273499994, -6.49164809899986]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "MORALES", "CODCCPP": "0001", "DEPARTAMEN": "SAN MARTIN", "DISTRITO": "MORALES", "FUENTE": "INEI", "IDDIST": "220910", "IDDPTO": "22", "IDPROV": "2209", "PROVINCIA": "SAN MARTIN"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_d225a4ca6768af14dd8c8523ea50ff5c.addTo(feature_group_8bb2c86ef347c9d9828f4fc6f86805bb);
        
    
            feature_group_8bb2c86ef347c9d9828f4fc6f86805bb.addTo(map_e24c657fdcfa85697c0cdef4784cab3a);
        
    
            var feature_group_4998f02cae2a7c76207fd73de86e73ff = L.featureGroup(
                {
}
            );
        
    
            var circle_e346b5e1c8756bc838c8bb9532f0940e = L.circle(
                [-6.475072, -76.384859],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_eec1106c84f7b915ae2f9c92e3d7873d = L.circle(
                [-6.483, -76.3832],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_3b168d53db944ccc6a20c700961efdc5 = L.circle(
                [-6.482699, -76.383061],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_c49644359979e0af67f051c384a6f04d = L.circle(
                [-6.477901, -76.385847],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_cd0edfeb3117e9f72a838408a480b560 = L.circle(
                [-6.489838, -76.384194],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_8e8e52da9a4d71df753c44926ac5f0cd = L.circle(
                [-6.479912, -76.378736],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            var circle_c680f568804fbef3328cf45946927d83 = L.circle(
                [-6.47906, -76.37732],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_4998f02cae2a7c76207fd73de86e73ff);
        
    
            feature_group_4998f02cae2a7c76207fd73de86e73ff.addTo(map_e24c657fdcfa85697c0cdef4784cab3a);
        
    
            var feature_group_c54720cf02142a848094d9431a1063c9 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_e6a7ed2794a97ca1bb1d47b90451b039 = L.circleMarker(
                [-6.475072, -76.384859],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_fdba9ad79bc3c590c976b9903006af6b = L.popup({
  "maxWidth": 420,
});

        
            
                var html_3839d12e0c52be8fee7ca838183a3ed5 = $(`<div id="html_3839d12e0c52be8fee7ca838183a3ed5" style="width: 100.0%; height: 100.0%;"><b>246</b><br>C√≥digo CE: 483362<br>UBIGEO gestor: 220910<br>Latitud: -6.475072<br>Longitud: -76.384859<br>Alumnos: 209<br>Docentes: 10<br>Siniestros: 0</div>`)[0];
                popup_fdba9ad79bc3c590c976b9903006af6b.setContent(html_3839d12e0c52be8fee7ca838183a3ed5);
            
        

        circle_marker_e6a7ed2794a97ca1bb1d47b90451b039.bindPopup(popup_fdba9ad79bc3c590c976b9903006af6b)
        ;

        
    
    
            circle_marker_e6a7ed2794a97ca1bb1d47b90451b039.bindTooltip(
                `<div>
                     246 | 483362
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_eb2b025774f71a5e1f129cd3152e5b0c = L.circleMarker(
                [-6.483, -76.3832],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_3fb5869ada9299c4dd768fbbeb9429b1 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f8f1bf873a491f66606443c135042d12 = $(`<div id="html_f8f1bf873a491f66606443c135042d12" style="width: 100.0%; height: 100.0%;"><b>312</b><br>C√≥digo CE: 483381<br>UBIGEO gestor: 220910<br>Latitud: -6.483<br>Longitud: -76.3832<br>Alumnos: 354<br>Docentes: 18<br>Siniestros: 0</div>`)[0];
                popup_3fb5869ada9299c4dd768fbbeb9429b1.setContent(html_f8f1bf873a491f66606443c135042d12);
            
        

        circle_marker_eb2b025774f71a5e1f129cd3152e5b0c.bindPopup(popup_3fb5869ada9299c4dd768fbbeb9429b1)
        ;

        
    
    
            circle_marker_eb2b025774f71a5e1f129cd3152e5b0c.bindTooltip(
                `<div>
                     312 | 483381
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_b4ecf7da2bef760d812d2321fd7602b0 = L.circleMarker(
                [-6.482699, -76.383061],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_5b612ff68e6a5bbcefdaa87968d07bb7 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_19286b4546b1b4df496041e15cb534a7 = $(`<div id="html_19286b4546b1b4df496041e15cb534a7" style="width: 100.0%; height: 100.0%;"><b>0031 MARIA ULISES DAVILA PINEDO</b><br>C√≥digo CE: 483404<br>UBIGEO gestor: 220910<br>Latitud: -6.482699<br>Longitud: -76.383061<br>Alumnos: 1050<br>Docentes: 47<br>Siniestros: 0</div>`)[0];
                popup_5b612ff68e6a5bbcefdaa87968d07bb7.setContent(html_19286b4546b1b4df496041e15cb534a7);
            
        

        circle_marker_b4ecf7da2bef760d812d2321fd7602b0.bindPopup(popup_5b612ff68e6a5bbcefdaa87968d07bb7)
        ;

        
    
    
            circle_marker_b4ecf7da2bef760d812d2321fd7602b0.bindTooltip(
                `<div>
                     0031 maria ulises davila pinedo | 483404
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_ae942067494a2d59c5563e1acb08d369 = L.circleMarker(
                [-6.477901, -76.385847],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_c5d4915d62ae8903ed7b3c83b2f32d3b = L.popup({
  "maxWidth": 420,
});

        
            
                var html_2c912da7c263dab34894c90c2736e21a = $(`<div id="html_2c912da7c263dab34894c90c2736e21a" style="width: 100.0%; height: 100.0%;"><b>0032</b><br>C√≥digo CE: 483418<br>UBIGEO gestor: 220910<br>Latitud: -6.477901<br>Longitud: -76.385847<br>Alumnos: 930<br>Docentes: 42<br>Siniestros: 0</div>`)[0];
                popup_c5d4915d62ae8903ed7b3c83b2f32d3b.setContent(html_2c912da7c263dab34894c90c2736e21a);
            
        

        circle_marker_ae942067494a2d59c5563e1acb08d369.bindPopup(popup_c5d4915d62ae8903ed7b3c83b2f32d3b)
        ;

        
    
    
            circle_marker_ae942067494a2d59c5563e1acb08d369.bindTooltip(
                `<div>
                     0032 | 483418
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_e17f4ff669ef509993ade77a73936432 = L.circleMarker(
                [-6.489838, -76.384194],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_8d1f04f92ab059ceed2d6a3a5a745986 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_efbf53528d6170bf82fe38a800313911 = $(`<div id="html_efbf53528d6170bf82fe38a800313911" style="width: 100.0%; height: 100.0%;"><b>0469</b><br>C√≥digo CE: 483423<br>UBIGEO gestor: 220910<br>Latitud: -6.489838<br>Longitud: -76.384194<br>Alumnos: 358<br>Docentes: 22<br>Siniestros: 0</div>`)[0];
                popup_8d1f04f92ab059ceed2d6a3a5a745986.setContent(html_efbf53528d6170bf82fe38a800313911);
            
        

        circle_marker_e17f4ff669ef509993ade77a73936432.bindPopup(popup_8d1f04f92ab059ceed2d6a3a5a745986)
        ;

        
    
    
            circle_marker_e17f4ff669ef509993ade77a73936432.bindTooltip(
                `<div>
                     0469 | 483423
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_c3de615e092f7b11df46d9dcf8f11fe9 = L.circleMarker(
                [-6.479912, -76.378736],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_9c5146ccd3756f5607ff5533675a7a6c = L.popup({
  "maxWidth": 420,
});

        
            
                var html_c1d5be6e1ca8ef38fa4f32533c438e5b = $(`<div id="html_c1d5be6e1ca8ef38fa4f32533c438e5b" style="width: 100.0%; height: 100.0%;"><b>FRANCISCO IZQUIERDO RIOS</b><br>C√≥digo CE: 483437<br>UBIGEO gestor: 220910<br>Latitud: -6.479912<br>Longitud: -76.378736<br>Alumnos: 1797<br>Docentes: 82<br>Siniestros: 0</div>`)[0];
                popup_9c5146ccd3756f5607ff5533675a7a6c.setContent(html_c1d5be6e1ca8ef38fa4f32533c438e5b);
            
        

        circle_marker_c3de615e092f7b11df46d9dcf8f11fe9.bindPopup(popup_9c5146ccd3756f5607ff5533675a7a6c)
        ;

        
    
    
            circle_marker_c3de615e092f7b11df46d9dcf8f11fe9.bindTooltip(
                `<div>
                     francisco izquierdo rios | 483437
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_94491cba9fbcaeeb2ca68f186f85645c = L.circleMarker(
                [-6.47906, -76.37732],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_c54720cf02142a848094d9431a1063c9);
        
    
        var popup_26bbf94279970b80ae754dcbd3690cce = L.popup({
  "maxWidth": 420,
});

        
            
                var html_1528a58b40613a397e886f29ca44f8ae = $(`<div id="html_1528a58b40613a397e886f29ca44f8ae" style="width: 100.0%; height: 100.0%;"><b>INNOVA SCHOOLS</b><br>C√≥digo CE: 843449<br>UBIGEO gestor: 220910<br>Latitud: -6.47906<br>Longitud: -76.37732<br>Alumnos: 898<br>Docentes: 48<br>Siniestros: 0</div>`)[0];
                popup_26bbf94279970b80ae754dcbd3690cce.setContent(html_1528a58b40613a397e886f29ca44f8ae);
            
        

        circle_marker_94491cba9fbcaeeb2ca68f186f85645c.bindPopup(popup_26bbf94279970b80ae754dcbd3690cce)
        ;

        
    
    
            circle_marker_94491cba9fbcaeeb2ca68f186f85645c.bindTooltip(
                `<div>
                     innova schools | 843449
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_c54720cf02142a848094d9431a1063c9.addTo(map_e24c657fdcfa85697c0cdef4784cab3a);
        
    
            var feature_group_fc4fc1681139751e375173532da8c04c = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_c29014a8455119a496d9e7afea68e3d9 = L.circleMarker(
                [-6.49826, -76.39229],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_fc4fc1681139751e375173532da8c04c);
        
    
        var popup_f07b22c8e08421c1911947777cddac8e = L.popup({
  "maxWidth": 420,
});

        
            
                var html_6459cd012036468f84c4d4f9c596cdec = $(`<div id="html_6459cd012036468f84c4d4f9c596cdec" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-06-355</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>27/06/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>02:00</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. VIA DE EVITAMIENTO CDRA. 20</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-6.49826</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-76.39229</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>CONDUCIR EN ESTADO DE EBRIEDAD Y/O DROGADICCI√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NINGUNO</td></tr></table></div></div>`)[0];
                popup_f07b22c8e08421c1911947777cddac8e.setContent(html_6459cd012036468f84c4d4f9c596cdec);
            
        

        circle_marker_c29014a8455119a496d9e7afea68e3d9.bindPopup(popup_f07b22c8e08421c1911947777cddac8e)
        ;

        
    
    
            var circle_marker_543ad4f65e671f90fe20a0e3662a8cc0 = L.circleMarker(
                [-6.4795, -76.38282],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_fc4fc1681139751e375173532da8c04c);
        
    
        var popup_0f1dbc74eb5e6e7784d10ef279e20147 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_59a34bc3ca8b8c5735d4b435796279b0 = $(`<div id="html_59a34bc3ca8b8c5735d4b435796279b0" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-06-357</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>20/06/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>16:00</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>SEGUIDO DE VOLCADURA Y FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>JR TUPAC AMARU CDRA 1 MORALES</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-6.4795</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-76.38282</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>CONDUCIR EN SENTIDO CONTRARIO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NINGUNA</td></tr></table></div></div>`)[0];
                popup_0f1dbc74eb5e6e7784d10ef279e20147.setContent(html_59a34bc3ca8b8c5735d4b435796279b0);
            
        

        circle_marker_543ad4f65e671f90fe20a0e3662a8cc0.bindPopup(popup_0f1dbc74eb5e6e7784d10ef279e20147)
        ;

        
    
    
            var circle_marker_b9be1ba05f6f250371c19287ed966e80 = L.circleMarker(
                [-6.48848, -76.39972],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_fc4fc1681139751e375173532da8c04c);
        
    
        var popup_0c884adbd9e72ee31b87958db91ed5f3 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_1d7a08fe50ee4e0de3ed5c42d635bdc5 = $(`<div id="html_1d7a08fe50ee4e0de3ed5c42d635bdc5" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-09-271</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>06/09/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>12:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CARRETERA NUEVA VIA DE EVITAMIENTO KM 5 500 TARAPOTO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-6.48848</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-76.39972</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>CONDUCIR EN SENTIDO CONTRARIO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NINGUNA</td></tr></table></div></div>`)[0];
                popup_0c884adbd9e72ee31b87958db91ed5f3.setContent(html_1d7a08fe50ee4e0de3ed5c42d635bdc5);
            
        

        circle_marker_b9be1ba05f6f250371c19287ed966e80.bindPopup(popup_0c884adbd9e72ee31b87958db91ed5f3)
        ;

        
    
    
            feature_group_fc4fc1681139751e375173532da8c04c.addTo(map_e24c657fdcfa85697c0cdef4784cab3a);
        
    
            map_e24c657fdcfa85697c0cdef4784cab3a.fitBounds(
                [[-6.475072, -76.384859], [-6.483, -76.3832], [-6.482699, -76.383061], [-6.477901, -76.385847], [-6.489838, -76.384194], [-6.479912, -76.378736], [-6.47906, -76.37732]],
                {}
            );
        
    
            var layer_control_12f03b7a327122525642e15f49d261c3_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_00515ce8041cd9868791e1f89393b28a,
                },
                overlays :  {
                    "contorno" : feature_group_8bb2c86ef347c9d9828f4fc6f86805bb,
                    "colegios: buffers" : feature_group_4998f02cae2a7c76207fd73de86e73ff,
                    "colegios: puntos" : feature_group_c54720cf02142a848094d9431a1063c9,
                    "siniestros fatales" : feature_group_fc4fc1681139751e375173532da8c04c,
                },
            };
            let layer_control_12f03b7a327122525642e15f49d261c3 = L.control.layers(
                layer_control_12f03b7a327122525642e15f49d261c3_layers.base_layers,
                layer_control_12f03b7a327122525642e15f49d261c3_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_e24c657fdcfa85697c0cdef4784cab3a);

        
    
        feature_group_c54720cf02142a848094d9431a1063c9.bringToFront();
        feature_group_fc4fc1681139751e375173532da8c04c.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_c54720cf02142a848094d9431a1063c9;
        var defaultTrue  = '#7dd3fc';
        var defaultFalse = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades de b√∫squeda ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              var st = (ly.options || {});
              if (!st._origColor) { st._origColor = st.color; }
              var orig = (st.color === hiliteColor) ? st._origColor : st.color;
              ly.setStyle({ color: orig || defaultFalse, fillColor: orig || defaultFalse });
            });
          }

          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly);
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                if (!ly.options._origColor) { ly.options._origColor = ly.options.color; }
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }
          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>