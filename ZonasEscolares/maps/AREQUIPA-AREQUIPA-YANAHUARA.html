<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_9798a87be14b878ce56ef53dfde3de91 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        AREQUIPA-AREQUIPA-YANAHUARA
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Nuevas</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#7dd3fc; border-radius:50%;"></span>
            <span>Celeste: Mantenimiento</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_9798a87be14b878ce56ef53dfde3de91" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_9798a87be14b878ce56ef53dfde3de91 = L.map(
                "map_9798a87be14b878ce56ef53dfde3de91",
                {
                    center: [-16.3937122, -71.5470304],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_9798a87be14b878ce56ef53dfde3de91);

            

        
    
            var tile_layer_914a24b5eb692620b0e1d5dfc20a98a3 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_914a24b5eb692620b0e1d5dfc20a98a3.addTo(map_9798a87be14b878ce56ef53dfde3de91);
        
    
            var feature_group_289466ee70f39eb66aac271169250356 = L.featureGroup(
                {
}
            );
        
    
        function geo_json_7e99cfac2f916e3fe00024fc48130eee_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_7e99cfac2f916e3fe00024fc48130eee_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_7e99cfac2f916e3fe00024fc48130eee = L.geoJson(null, {
                onEachFeature: geo_json_7e99cfac2f916e3fe00024fc48130eee_onEachFeature,
            
                style: geo_json_7e99cfac2f916e3fe00024fc48130eee_styler,
            ...{
}
        });

        function geo_json_7e99cfac2f916e3fe00024fc48130eee_add (data) {
            geo_json_7e99cfac2f916e3fe00024fc48130eee
                .addData(data);
        }
            geo_json_7e99cfac2f916e3fe00024fc48130eee_add({"features": [{"geometry": {"coordinates": [[[[-71.53474923099998, -16.381729733999975], [-71.53484248099988, -16.381943733999947], [-71.53496023099996, -16.38194960899989], [-71.53520623199995, -16.38193948399993], [-71.53524835599995, -16.38193785899989], [-71.5354483559999, -16.381943733999947], [-71.53554835599994, -16.38200835899994], [-71.53570735599993, -16.382414233999953], [-71.53580723099992, -16.382790608999926], [-71.5359248559999, -16.38287310899983], [-71.5361953559999, -16.382867233999946], [-71.53646010599988, -16.382825983999908], [-71.53659535599996, -16.382837733999907], [-71.53666598099994, -16.382949483999937], [-71.5368307309999, -16.383396608999874], [-71.53688360599983, -16.38384948399988], [-71.5372483569999, -16.384925858999964], [-71.5375188559999, -16.38577285899993], [-71.53785998099988, -16.386755233999963], [-71.53828948099988, -16.388037483999938], [-71.53843060599985, -16.388284608999925], [-71.53868348099996, -16.38903748399997], [-71.53971885599992, -16.39207260899991], [-71.53981873099997, -16.39237848399989], [-71.53986585599995, -16.392413733999888], [-71.54046573099993, -16.39219610899994], [-71.54060110599994, -16.392231358999823], [-71.54074810699984, -16.39231373399997], [-71.5409774819999, -16.392625483999836], [-71.5412481059999, -16.393113733999826], [-71.54137748099987, -16.393313732999957], [-71.54147748099996, -16.393343108999886], [-71.54183048099998, -16.393201983999916], [-71.54199510599989, -16.393166607999945], [-71.54206573099998, -16.393196108999973], [-71.54212448099986, -16.39327848399995], [-71.54219510599984, -16.393384358999924], [-71.54233035599992, -16.39346660799987], [-71.54247748099993, -16.393472483999915], [-71.54275973199992, -16.393466608999972], [-71.54319523099997, -16.393466608999972], [-71.54363035599994, -16.393443108999975], [-71.54393035599998, -16.393407857999932], [-71.5440596059999, -16.393460733999916], [-71.54418323099992, -16.393754858999955], [-71.54477148099994, -16.39530773399997], [-71.54503023099994, -16.395919483999876], [-71.54508910699991, -16.39599598399991], [-71.5451949809999, -16.395954733999872], [-71.54564785599996, -16.395713608999927], [-71.54587723099996, -16.395590108999897], [-71.54595373099994, -16.39562535799996], [-71.54605373099997, -16.395813483999916], [-71.54616548099989, -16.396066608999888], [-71.54628898099998, -16.396101858999884], [-71.54643610599999, -16.396048858999848], [-71.54668898099987, -16.395931233999875], [-71.54693610599998, -16.395813483999916], [-71.54704198099995, -16.395831233999957], [-71.54708898099994, -16.39594885899993], [-71.54716548199997, -16.396095983999942], [-71.54738310699992, -16.39629598399995], [-71.54760073099999, -16.39638410899994], [-71.54767135599997, -16.396478233999915], [-71.54768310599997, -16.396589983999945], [-71.54762423099999, -16.396825358999877], [-71.54763598099998, -16.397031108999954], [-71.54775360599996, -16.39734885899992], [-71.54815360599997, -16.39788998399996], [-71.54880660599991, -16.398595858999897], [-71.54954173199991, -16.399454608999974], [-71.55011673099989, -16.400120983999955], [-71.55064173099998, -16.40098385899995], [-71.55086048099997, -16.401398608999898], [-71.55103585599988, -16.401730983999983], [-71.55150635599995, -16.402760358999956], [-71.55175348199987, -16.403130858999873], [-71.55191223099996, -16.403301358999954], [-71.55218273199995, -16.403371983999932], [-71.55240048099995, -16.403513233999888], [-71.55240635599995, -16.403707233999967], [-71.55224160599994, -16.40431310899993], [-71.55216523099983, -16.40464848299996], [-71.55213010599994, -16.404805233999866], [-71.55195360599998, -16.405589608999946], [-71.55176523099993, -16.406395358999873], [-71.55195798099999, -16.406881858999895], [-71.55205348099997, -16.407142483999962], [-71.55227185699994, -16.407517483999925], [-71.55267748099993, -16.407767858999932], [-71.55307310599989, -16.40786798399995], [-71.5542048559999, -16.408233733999964], [-71.55495210599992, -16.40842435899998], [-71.55542198099982, -16.408544233999976], [-71.55596785599994, -16.40868948399998], [-71.55687160599996, -16.408772608999925], [-71.55807660599999, -16.40859735899994], [-71.55866823199983, -16.408619358999943], [-71.55895310599993, -16.409044983999934], [-71.56073760599998, -16.40769010899993], [-71.56280523099991, -16.40664285899993], [-71.56568148099996, -16.40509798399995], [-71.56661498099999, -16.404681358999937], [-71.56655610599995, -16.40357973399989], [-71.56581123199993, -16.402067858999942], [-71.56389173099984, -16.40064060899988], [-71.56165123099998, -16.39918848399992], [-71.56024060599998, -16.398441608999917], [-71.55965973099995, -16.39781923399994], [-71.55965973099995, -16.396865108999975], [-71.55991723099999, -16.39591085899997], [-71.55976385599996, -16.39494685899996], [-71.55978573099992, -16.394486608999898], [-71.55955748199995, -16.394125233999944], [-71.55952285599994, -16.39407035899984], [-71.55842723099994, -16.39358835899992], [-71.55638948099994, -16.39286523399994], [-71.55510935599989, -16.392307108999944], [-71.55477523099995, -16.392173108999884], [-71.55453385599998, -16.392070358999888], [-71.55446685699991, -16.39203010899996], [-71.55426585599997, -16.39188273399992], [-71.55411835599995, -16.391730733999964], [-71.55400448099994, -16.39154410899988], [-71.55395735699994, -16.391467233999947], [-71.55378760599996, -16.391239233999954], [-71.55373785599994, -16.391156983999906], [-71.55369823099994, -16.39109173399993], [-71.55354185599987, -16.390971108999906], [-71.55339885599994, -16.39088173399989], [-71.55334323099993, -16.390876108999976], [-71.55322135599988, -16.390844983999955], [-71.55288948099997, -16.390832608999972], [-71.55267123199997, -16.390811483999926], [-71.55234435599982, -16.39081910899995], [-71.55209410699996, -16.39085048399994], [-71.5519332319999, -16.39092198399993], [-71.5517366069999, -16.390966733999903], [-71.5515747309999, -16.39104510899989], [-71.55130360699997, -16.39118773399997], [-71.55110648099998, -16.39134198299996], [-71.5509769809999, -16.391547483999886], [-71.55094123099997, -16.391708358999892], [-71.55096348099994, -16.39197648399994], [-71.55094123099997, -16.39234298399998], [-71.55093223199987, -16.392441233999932], [-71.55076685599994, -16.392651233999914], [-71.55045860599995, -16.392892608999887], [-71.5501547309999, -16.393093608999948], [-71.5499581059999, -16.393209858999967], [-71.54965423099998, -16.39331260899985], [-71.54933698099995, -16.393343858999856], [-71.5488321069999, -16.393209858999967], [-71.54802323099995, -16.392749608999964], [-71.54743773099983, -16.39247248399988], [-71.54719135699997, -16.392354358999967], [-71.54650760599998, -16.392164108999964], [-71.54628848099986, -16.392120233999947], [-71.5459379809999, -16.3912877329999], [-71.54613510699994, -16.39080560899987], [-71.54627985699994, -16.390411608999955], [-71.54629860599988, -16.389776108999968], [-71.54569973199989, -16.388079108999875], [-71.54517198099995, -16.386539108999955], [-71.5448442309999, -16.385583608999923], [-71.54474423199997, -16.385312733999967], [-71.54422610599994, -16.38548173399994], [-71.54343235599998, -16.38574048399994], [-71.54291898099996, -16.384214733999897], [-71.54276210599994, -16.383687108999936], [-71.54262510599989, -16.38341023399994], [-71.54257673199999, -16.38335910899997], [-71.54253710599988, -16.383364858999926], [-71.54248885599998, -16.383413108999946], [-71.54244798099995, -16.383536108999976], [-71.5423486059999, -16.383672858999944], [-71.54187798099997, -16.38400085899997], [-71.54009560599985, -16.38424323399994], [-71.53985310699994, -16.383430483999916], [-71.53923998099992, -16.383487483999943], [-71.53891198099996, -16.383316358999934], [-71.53874085599995, -16.382774483999924], [-71.53871235599996, -16.382432233999964], [-71.53854123099995, -16.38218985899988], [-71.53824173099991, -16.3819617339999], [-71.53808398099994, -16.381682358999967], [-71.53780385599993, -16.381121982999957], [-71.53743035599996, -16.380631733999905], [-71.5370102309999, -16.379744608999886], [-71.53663673099999, -16.378624108999873], [-71.53630985599995, -16.377550233999955], [-71.5358196059999, -16.3761028589999], [-71.5357262309999, -16.374608733999935], [-71.53595973099993, -16.37243773399996], [-71.53578998099994, -16.37137998399993], [-71.53608998199996, -16.369629983999914], [-71.53622435599982, -16.368303358999924], [-71.53557135699998, -16.367351858999882], [-71.53474023099994, -16.3675644839999], [-71.53472085599992, -16.36834960899995], [-71.53417185599989, -16.370673858999965], [-71.5339808569999, -16.371274108999955], [-71.53313873099995, -16.373396483999898], [-71.53272073099998, -16.37400385899997], [-71.5331004819999, -16.374871983999867], [-71.53345435599994, -16.37682048399995], [-71.53362498099995, -16.377475608999816], [-71.53388673199993, -16.37794085899992], [-71.53415810599984, -16.378434982999977], [-71.53436160599995, -16.379258733999905], [-71.53457473199995, -16.38018898399997], [-71.53474923099998, -16.381729733999975]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "YANAHUARA", "CODCCPP": "0001", "DEPARTAMEN": "AREQUIPA", "DISTRITO": "YANAHUARA", "FUENTE": "INEI", "IDDIST": "040126", "IDDPTO": "04", "IDPROV": "0401", "PROVINCIA": "AREQUIPA"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_7e99cfac2f916e3fe00024fc48130eee.addTo(feature_group_289466ee70f39eb66aac271169250356);
        
    
            feature_group_289466ee70f39eb66aac271169250356.addTo(map_9798a87be14b878ce56ef53dfde3de91);
        
    
            var feature_group_c2c8e387b1150f62afc64b587491c6cb = L.featureGroup(
                {
}
            );
        
    
            var circle_518a879d8656969f91a89cd1b4fcbc1b = L.circle(
                [-16.39651, -71.55269],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_c2c8e387b1150f62afc64b587491c6cb);
        
    
            var circle_cb6a0742989f0aadc308c8624d49c00c = L.circle(
                [-16.38431, -71.54079],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_c2c8e387b1150f62afc64b587491c6cb);
        
    
            var circle_d3faad1bbce7aef071bdd4602af2bcd2 = L.circle(
                [-16.3967, -71.548772],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_c2c8e387b1150f62afc64b587491c6cb);
        
    
            var circle_3a59f5aa85b7713b855b210a2ff3ab6d = L.circle(
                [-16.40128, -71.55266],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_c2c8e387b1150f62afc64b587491c6cb);
        
    
            var circle_f7a9d0202f82853dc69ce4cce6796c3c = L.circle(
                [-16.389761, -71.54024],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_c2c8e387b1150f62afc64b587491c6cb);
        
    
            feature_group_c2c8e387b1150f62afc64b587491c6cb.addTo(map_9798a87be14b878ce56ef53dfde3de91);
        
    
            var feature_group_16e49bb9e469594a1df501e4176bf096 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_8852681cb4101d2eacfcc4dad012eb65 = L.circleMarker(
                [-16.39651, -71.55269],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_16e49bb9e469594a1df501e4176bf096);
        
    
        var popup_a8f858861354843941252a082f399bc9 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_f2775e0b7edaa50e26d6745316aec829 = $(`<div id="html_f2775e0b7edaa50e26d6745316aec829" style="width: 100.0%; height: 100.0%;"><b>40039 SANTA MARIA</b><br>C√≥digo CE: 64959<br>UBIGEO gestor: 040126<br>Latitud: -16.39651<br>Longitud: -71.55269<br>Alumnos: 303<br>Docentes: 18<br>Siniestros: 0</div>`)[0];
                popup_a8f858861354843941252a082f399bc9.setContent(html_f2775e0b7edaa50e26d6745316aec829);
            
        

        circle_marker_8852681cb4101d2eacfcc4dad012eb65.bindPopup(popup_a8f858861354843941252a082f399bc9)
        ;

        
    
    
            circle_marker_8852681cb4101d2eacfcc4dad012eb65.bindTooltip(
                `<div>
                     40039 santa maria | 64959
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_a2482eac8ec6b666af916f2c22215e85 = L.circleMarker(
                [-16.38431, -71.54079],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_16e49bb9e469594a1df501e4176bf096);
        
    
        var popup_692afd7ec85f433572f998ae2ba16fa0 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_ec85c1f33cb95c02deaa1177336240c0 = $(`<div id="html_ec85c1f33cb95c02deaa1177336240c0" style="width: 100.0%; height: 100.0%;"><b>40048 ANTONIO JOSE DE SUCRE</b><br>C√≥digo CE: 64964<br>UBIGEO gestor: 040126<br>Latitud: -16.38431<br>Longitud: -71.54079<br>Alumnos: 874<br>Docentes: 55<br>Siniestros: 0</div>`)[0];
                popup_692afd7ec85f433572f998ae2ba16fa0.setContent(html_ec85c1f33cb95c02deaa1177336240c0);
            
        

        circle_marker_a2482eac8ec6b666af916f2c22215e85.bindPopup(popup_692afd7ec85f433572f998ae2ba16fa0)
        ;

        
    
    
            circle_marker_a2482eac8ec6b666af916f2c22215e85.bindTooltip(
                `<div>
                     40048 antonio jose de sucre | 64964
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_c44c143c4f405677cdcd4bf2161eea4a = L.circleMarker(
                [-16.3967, -71.548772],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_16e49bb9e469594a1df501e4176bf096);
        
    
        var popup_0a72759a4785f74f2435538dc5c8c18f = L.popup({
  "maxWidth": 420,
});

        
            
                var html_a5191dbf3e02b1ba5ce7c8996580e90a = $(`<div id="html_a5191dbf3e02b1ba5ce7c8996580e90a" style="width: 100.0%; height: 100.0%;"><b>INTERNACIONAL PERUANO BRITANICO</b><br>C√≥digo CE: 65138<br>UBIGEO gestor: 040126<br>Latitud: -16.3967<br>Longitud: -71.548772<br>Alumnos: 1112<br>Docentes: 75<br>Siniestros: 0</div>`)[0];
                popup_0a72759a4785f74f2435538dc5c8c18f.setContent(html_a5191dbf3e02b1ba5ce7c8996580e90a);
            
        

        circle_marker_c44c143c4f405677cdcd4bf2161eea4a.bindPopup(popup_0a72759a4785f74f2435538dc5c8c18f)
        ;

        
    
    
            circle_marker_c44c143c4f405677cdcd4bf2161eea4a.bindTooltip(
                `<div>
                     internacional peruano britanico | 65138
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_6b0da386a05364c12b27345e9a51467d = L.circleMarker(
                [-16.40128, -71.55266],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_16e49bb9e469594a1df501e4176bf096);
        
    
        var popup_686b0e466d386102d4cefe509560f397 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_24a10c4e1f8be0dad98c762e6c9549ca = $(`<div id="html_24a10c4e1f8be0dad98c762e6c9549ca" style="width: 100.0%; height: 100.0%;"><b>VANCOUVER</b><br>C√≥digo CE: 65176<br>UBIGEO gestor: 040126<br>Latitud: -16.40128<br>Longitud: -71.55266<br>Alumnos: 367<br>Docentes: 36<br>Siniestros: 0</div>`)[0];
                popup_686b0e466d386102d4cefe509560f397.setContent(html_24a10c4e1f8be0dad98c762e6c9549ca);
            
        

        circle_marker_6b0da386a05364c12b27345e9a51467d.bindPopup(popup_686b0e466d386102d4cefe509560f397)
        ;

        
    
    
            circle_marker_6b0da386a05364c12b27345e9a51467d.bindTooltip(
                `<div>
                     vancouver | 65176
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_58c2044b50a35df992d739baa39273cc = L.circleMarker(
                [-16.389761, -71.54024],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_16e49bb9e469594a1df501e4176bf096);
        
    
        var popup_0b5928bdb57b4bbab97dc69efc46cd9c = L.popup({
  "maxWidth": 420,
});

        
            
                var html_9855a9af3d987da0ca721c379532fe34 = $(`<div id="html_9855a9af3d987da0ca721c379532fe34" style="width: 100.0%; height: 100.0%;"><b>NUESTRA SRA. DE LA MERCED</b><br>C√≥digo CE: 65223<br>UBIGEO gestor: 040126<br>Latitud: -16.389761<br>Longitud: -71.54024<br>Alumnos: 584<br>Docentes: 35<br>Siniestros: 0</div>`)[0];
                popup_0b5928bdb57b4bbab97dc69efc46cd9c.setContent(html_9855a9af3d987da0ca721c379532fe34);
            
        

        circle_marker_58c2044b50a35df992d739baa39273cc.bindPopup(popup_0b5928bdb57b4bbab97dc69efc46cd9c)
        ;

        
    
    
            circle_marker_58c2044b50a35df992d739baa39273cc.bindTooltip(
                `<div>
                     nuestra sra. de la merced | 65223
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_16e49bb9e469594a1df501e4176bf096.addTo(map_9798a87be14b878ce56ef53dfde3de91);
        
    
            var feature_group_bf406bd2fc9c4ba09d93e4509268267d = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_60bb5648c9ec8f56186fba9a66c25e43 = L.circleMarker(
                [-16.408001, -71.560112],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_bf406bd2fc9c4ba09d93e4509268267d);
        
    
        var popup_da380dda12682093361c7d057a51d344 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_2ea3c3bacae4d5bc6a0e8bf93b054750 = $(`<div id="html_2ea3c3bacae4d5bc6a0e8bf93b054750" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2022-02-124</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>26/02/2022</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>21:50</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE CON OBJETO FIJO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>SUBSECUENTE MUERTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>KM 3 DE LA VARIANTE DE UCHUMAYO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>AV TAHUAYCANI</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-16.408001</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-71.560112</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>S/O</td></tr></table></div></div>`)[0];
                popup_da380dda12682093361c7d057a51d344.setContent(html_2ea3c3bacae4d5bc6a0e8bf93b054750);
            
        

        circle_marker_60bb5648c9ec8f56186fba9a66c25e43.bindPopup(popup_da380dda12682093361c7d057a51d344)
        ;

        
    
    
            var circle_marker_91472d49a4e8921c0fb9c29fb0011121 = L.circleMarker(
                [-16.4063, -71.563236],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_bf406bd2fc9c4ba09d93e4509268267d);
        
    
        var popup_dfea05a13117c7d8ff92e0393f87e79a = L.popup({
  "maxWidth": 420,
});

        
            
                var html_1f74c84bcec9b0466729c11b86975fb2 = $(`<div id="html_1f74c84bcec9b0466729c11b86975fb2" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2024-08-54</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>03/08/2024</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>15:15</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>CHOQUE CON CONSECUECNIA FATAL</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>VIA AUXILIAR DE  SALIDA DE LA VARIANTE DE UCHUMAYO ALTURA DE OVALO P. CAMARONES</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-16.4063</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-71.563236</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>EN INVESTIGAICON</td></tr></table></div></div>`)[0];
                popup_dfea05a13117c7d8ff92e0393f87e79a.setContent(html_1f74c84bcec9b0466729c11b86975fb2);
            
        

        circle_marker_91472d49a4e8921c0fb9c29fb0011121.bindPopup(popup_dfea05a13117c7d8ff92e0393f87e79a)
        ;

        
    
    
            var circle_marker_3f7a68b23483271e5f5b480f6db186c9 = L.circleMarker(
                [-16.39016271, -71.5460038706564],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_bf406bd2fc9c4ba09d93e4509268267d);
        
    
        var popup_d6fa2ad34c2885a9c8e56f4e78ea6ff8 = L.popup({
  "maxWidth": 420,
});

        
            
                var html_9903118b8a3dd32e7ccb89e154a23000 = $(`<div id="html_9903118b8a3dd32e7ccb89e154a23000" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2025-01-2</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>03/01/2025</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>14:05</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>APLASTAMIENTO CON CONSECUENCIA FATAL</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. EJERCITO FRONTIS DEL INMUEBLE NRO. 708 DISTRITO DE YANAHUARA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>FRONTIS DEL INMUEBLE NRO. 708 DISTRITO DE YANAHUARA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-16.39016271</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-71.5460038706564</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NO</td></tr></table></div></div>`)[0];
                popup_d6fa2ad34c2885a9c8e56f4e78ea6ff8.setContent(html_9903118b8a3dd32e7ccb89e154a23000);
            
        

        circle_marker_3f7a68b23483271e5f5b480f6db186c9.bindPopup(popup_d6fa2ad34c2885a9c8e56f4e78ea6ff8)
        ;

        
    
    
            var circle_marker_a9d211616e6748465a759b15e4fa8e4f = L.circleMarker(
                [-16.402588, -71.559784],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_bf406bd2fc9c4ba09d93e4509268267d);
        
    
        var popup_37dff540c9c3d5b0c86d5c5fd402dddf = L.popup({
  "maxWidth": 420,
});

        
            
                var html_960f9de4be02fc2fd670fc1503195235 = $(`<div id="html_960f9de4be02fc2fd670fc1503195235" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2025-06-22</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>26/06/2025</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>21:20</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>ATROPELLO Y FUGA DE CONSECUENCIA FATAL</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>CALLE JOSE TABOADA INGRESO TROCHA CARROSABLE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>CALLE JOSE TABOADA N¬∞ 116</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-16.402588</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-71.559784</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>EN PROCESO DE INVESTIGACI√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>NO CUENTA CON CAUSA ESPECIFICA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NO</td></tr></table></div></div>`)[0];
                popup_37dff540c9c3d5b0c86d5c5fd402dddf.setContent(html_960f9de4be02fc2fd670fc1503195235);
            
        

        circle_marker_a9d211616e6748465a759b15e4fa8e4f.bindPopup(popup_37dff540c9c3d5b0c86d5c5fd402dddf)
        ;

        
    
    
            feature_group_bf406bd2fc9c4ba09d93e4509268267d.addTo(map_9798a87be14b878ce56ef53dfde3de91);
        
    
            map_9798a87be14b878ce56ef53dfde3de91.fitBounds(
                [[-16.39651, -71.55269], [-16.38431, -71.54079], [-16.3967, -71.548772], [-16.40128, -71.55266], [-16.389761, -71.54024]],
                {}
            );
        
    
            var layer_control_cd104624c603a3be761dcffed62fc5e8_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_914a24b5eb692620b0e1d5dfc20a98a3,
                },
                overlays :  {
                    "contorno" : feature_group_289466ee70f39eb66aac271169250356,
                    "colegios: buffers" : feature_group_c2c8e387b1150f62afc64b587491c6cb,
                    "colegios: puntos" : feature_group_16e49bb9e469594a1df501e4176bf096,
                    "siniestros fatales" : feature_group_bf406bd2fc9c4ba09d93e4509268267d,
                },
            };
            let layer_control_cd104624c603a3be761dcffed62fc5e8 = L.control.layers(
                layer_control_cd104624c603a3be761dcffed62fc5e8_layers.base_layers,
                layer_control_cd104624c603a3be761dcffed62fc5e8_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_9798a87be14b878ce56ef53dfde3de91);

        
    
        feature_group_16e49bb9e469594a1df501e4176bf096.bringToFront();
        feature_group_bf406bd2fc9c4ba09d93e4509268267d.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_16e49bb9e469594a1df501e4176bf096;
        var defaultTrue  = '#7dd3fc';
        var defaultFalse = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades de b√∫squeda ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              var st = (ly.options || {});
              if (!st._origColor) { st._origColor = st.color; }
              var orig = (st.color === hiliteColor) ? st._origColor : st.color;
              ly.setStyle({ color: orig || defaultFalse, fillColor: orig || defaultFalse });
            });
          }

          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly);
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                if (!ly.options._origColor) { ly.options._origColor = ly.options.color; }
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }
          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>