<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_0b4e05430aa1160d83236d8986bf2695 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        UCAYALI-CORONEL_PORTILLO-MANANTAY
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Intersecci√≥n priorizada</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:6px;">
            <span style="display:inline-block; width:14px; height:14px; background:#f59e0b; border-radius:50%;"></span>
            <span>Amarillo: Coincidencia de b√∫squeda</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_0b4e05430aa1160d83236d8986bf2695" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_0b4e05430aa1160d83236d8986bf2695 = L.map(
                "map_0b4e05430aa1160d83236d8986bf2695",
                {
                    center: [-8.400509275000001, -74.55215580000001],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_0b4e05430aa1160d83236d8986bf2695);

            

        
    
            var tile_layer_4692c78f6a419f04f5c07662d2d0073b = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_4692c78f6a419f04f5c07662d2d0073b.addTo(map_0b4e05430aa1160d83236d8986bf2695);
        
    
            var feature_group_55cd75ffc0e89227fd03fa5b31ffd763 = L.featureGroup(
                {
}
            );
        
    
        function geo_json_81eb48c182c1c21ce304f3a618794e10_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_81eb48c182c1c21ce304f3a618794e10_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_81eb48c182c1c21ce304f3a618794e10 = L.geoJson(null, {
                onEachFeature: geo_json_81eb48c182c1c21ce304f3a618794e10_onEachFeature,
            
                style: geo_json_81eb48c182c1c21ce304f3a618794e10_styler,
            ...{
}
        });

        function geo_json_81eb48c182c1c21ce304f3a618794e10_add (data) {
            geo_json_81eb48c182c1c21ce304f3a618794e10
                .addData(data);
        }
            geo_json_81eb48c182c1c21ce304f3a618794e10_add({"features": [{"geometry": {"coordinates": [[[[-74.51376648399992, -8.397747976999938], [-74.51189410899997, -8.400457976999974], [-74.51007110899997, -8.402083976999961], [-74.50800160899996, -8.404498351999962], [-74.50647410899995, -8.40641997699987], [-74.5034782329999, -8.408015226999964], [-74.50257448399998, -8.40817472699996], [-74.5025477339999, -8.408179475999873], [-74.50117948399992, -8.408261600999936], [-74.50035860899999, -8.408370975999901], [-74.49986598399988, -8.408480476999898], [-74.49926398399998, -8.408617225999933], [-74.49874398399987, -8.408781475999945], [-74.49822410899992, -8.409000351999964], [-74.49781460899999, -8.409281976999978], [-74.49778623399993, -8.409301350999897], [-74.49737573399989, -8.409547725999857], [-74.49704735899991, -8.409821225999906], [-74.49671898299994, -8.410231851999981], [-74.49617173299993, -8.411189601999979], [-74.49573373399994, -8.412010601999953], [-74.49567023399999, -8.41225260199991], [-74.49559698399997, -8.412530476999905], [-74.49549773399997, -8.412861351999936], [-74.49543285899989, -8.413077850999969], [-74.49540548399995, -8.41359772699991], [-74.49540598399989, -8.41361085099993], [-74.49543285899989, -8.414254476999929], [-74.49551735899996, -8.41637510199996], [-74.49580360899995, -8.418797225999981], [-74.49590935899988, -8.419642850999878], [-74.49606785899994, -8.420409100999962], [-74.49612073399999, -8.421069726999974], [-74.49614710899993, -8.421677351999904], [-74.49619998399999, -8.422892976999947], [-74.49627923399993, -8.424953976999973], [-74.49633210899998, -8.425825975999885], [-74.49646423399997, -8.426512976999959], [-74.49649060899992, -8.426962225999944], [-74.49649060899992, -8.427992726999946], [-74.49575910899989, -8.430820351999955], [-74.4955124839999, -8.433040100999847], [-74.49501923399998, -8.435013226999956], [-74.49492535899992, -8.436327225999946], [-74.49499210899995, -8.436518100999933], [-74.49510160899996, -8.437292975999924], [-74.49502535899995, -8.438214850999884], [-74.49482035899996, -8.438867225999957], [-74.49442385899994, -8.4394257269999], [-74.49376610899992, -8.439929226999823], [-74.49366823399998, -8.440064600999904], [-74.4935749839999, -8.440139225999872], [-74.49344648399995, -8.440241976999914], [-74.49315085799992, -8.440448975999914], [-74.49312385899998, -8.440469600999961], [-74.49289960899989, -8.440641226999958], [-74.49271898399996, -8.440726101999928], [-74.49264835899999, -8.44075935099994], [-74.49244135899994, -8.440848101999904], [-74.49223435899995, -8.440862851999952], [-74.49196835899994, -8.440877601999944], [-74.49171698399994, -8.440877601999944], [-74.49158898399992, -8.44086847699998], [-74.49151010899999, -8.440862851999952], [-74.49124398399988, -8.440818476999937], [-74.4910222339999, -8.440788975999965], [-74.49069710899994, -8.44075935099994], [-74.49029798399994, -8.440700226999923], [-74.4900762339999, -8.440626350999935], [-74.48998435899995, -8.44057860099997], [-74.48970660899994, -8.440434225999923], [-74.48702848399995, -8.437946725999836], [-74.4866626089999, -8.437606850999941], [-74.48553348399997, -8.436344976999976], [-74.48519010899992, -8.43596122599996], [-74.48464160899994, -8.435354851999875], [-74.4843817339999, -8.434979600999895], [-74.48380435899992, -8.434200101999977], [-74.4832846089999, -8.433449350999979], [-74.48307260899998, -8.433160725999869], [-74.48284523399997, -8.432884601999945], [-74.48237435899989, -8.432511100999932], [-74.48174098399988, -8.431942726999978], [-74.48125373399989, -8.431455476999929], [-74.48064548399987, -8.430874975999927], [-74.48053910899995, -8.43077335099997], [-74.48030710899991, -8.43053647599993], [-74.47975960899993, -8.429977601999951], [-74.47922923399994, -8.429591726999888], [-74.47904510899997, -8.429457975999924], [-74.47839560899996, -8.428954476999934], [-74.47789185899995, -8.428557725999951], [-74.47785948399991, -8.428532225999959], [-74.47667598399994, -8.427639100999897], [-74.4763276089999, -8.427437975999965], [-74.47614823399988, -8.427334600999927], [-74.47555948399997, -8.42700972699987], [-74.47503173399997, -8.426745850999964], [-74.47462573399997, -8.426522476999878], [-74.47438210899998, -8.426380475999963], [-74.47415885899989, -8.426136850999967], [-74.47393548399998, -8.42589322699996], [-74.47375285899994, -8.425527850999913], [-74.47316410899998, -8.424451976999876], [-74.47290023399995, -8.423944475999974], [-74.4726972339999, -8.423518100999956], [-74.4724942339999, -8.423152725999955], [-74.47221323399992, -8.422477725999954], [-74.47194673399997, -8.421925850999969], [-74.47164223399994, -8.421411975999888], [-74.47141385899994, -8.421107475999918], [-74.4710903589999, -8.420612601999835], [-74.47049210899996, -8.419978226999945], [-74.47046223399991, -8.41994647699994], [-74.46690748399993, -8.416393601999971], [-74.46315610799996, -8.4132344759999], [-74.46152760899997, -8.411334851999925], [-74.46093285899997, -8.410829350999961], [-74.46045710899995, -8.41032385199992], [-74.46007060899996, -8.409966850999979], [-74.45956498399994, -8.40955060199991], [-74.4589108589999, -8.409015351999926], [-74.45839748399999, -8.408645725999918], [-74.45816735899996, -8.408480101999885], [-74.45751323399992, -8.407974601999967], [-74.45711285899989, -8.407764976999943], [-74.45688873399996, -8.407647476999898], [-74.4565332329999, -8.407459350999886], [-74.45638310899994, -8.407379850999973], [-74.45540185899995, -8.407023100999936], [-74.45462873399998, -8.406874350999885], [-74.45388535899997, -8.406814850999979], [-74.45296348399995, -8.40669597699997], [-74.45144698399997, -8.40669597699997], [-74.45125635899996, -8.406721976999904], [-74.45103323399996, -8.40675235099991], [-74.45079273399995, -8.406785226999887], [-74.44969260899995, -8.406963600999916], [-74.44883010899991, -8.40711222699997], [-74.44842873399995, -8.40724072699993], [-74.44808673399996, -8.407350101999896], [-74.44743248399999, -8.407617725999955], [-74.44630248399994, -8.408063850999895], [-74.44570785899987, -8.408331476999933], [-74.44478598399996, -8.408747725999945], [-74.44383435899994, -8.4090748509999], [-74.44298023399995, -8.409514975999969], [-74.44285310899994, -8.409580351999978], [-74.44275623399989, -8.409641975999932], [-74.44219885799998, -8.409996726999964], [-74.4411581089999, -8.410650975999943], [-74.4392847339999, -8.4118403519999], [-74.43839260899989, -8.412464850999982], [-74.43648960899998, -8.413817601999938], [-74.43592448399994, -8.414219350999929], [-74.43431873399999, -8.41555747699988], [-74.43292110899995, -8.416687475999936], [-74.43158298399999, -8.417817475999925], [-74.43116660899994, -8.418174226999952], [-74.43086923399994, -8.418531101999918], [-74.43048273399984, -8.418858225999884], [-74.43012585899999, -8.419125850999933], [-74.42967985899992, -8.419423226999925], [-74.42926348399993, -8.419601600999954], [-74.42878773399991, -8.419779975999973], [-74.42853573399992, -8.419888100999913], [-74.42837135899993, -8.419958475999977], [-74.42804410899993, -8.420107100999928], [-74.42780635899999, -8.420315350999942], [-74.42739010899999, -8.420731600999886], [-74.42589760899989, -8.422552850999978], [-74.42563560899998, -8.422872601999927], [-74.42555873399994, -8.42299347699992], [-74.42521948399991, -8.423526850999906], [-74.42480298399994, -8.424062101999937], [-74.42450560899994, -8.424478350999948], [-74.42426773399995, -8.425043350999886], [-74.4240001089999, -8.425757101999977], [-74.42343510899997, -8.427154726999959], [-74.42313773399997, -8.427987351999946], [-74.42292960899988, -8.428700976999892], [-74.42278098399993, -8.429176726999913], [-74.42269173399995, -8.42959297599998], [-74.42263223399988, -8.430009350999967], [-74.42257273299992, -8.430604101999904], [-74.42257273299992, -8.43116910099991], [-74.42254298399996, -8.432031476999953], [-74.42255585899989, -8.43330660099997], [-74.42263173399994, -8.440876100999901], [-74.42342148299991, -8.448773600999914], [-74.42401373399997, -8.454301975999954], [-74.42421123399998, -8.458448101999977], [-74.42192360899998, -8.47454072699992], [-74.42185473399996, -8.47502560199996], [-74.42183860899996, -8.475111850999951], [-74.41974935899992, -8.486278475999882], [-74.41778923399994, -8.491723475999947], [-74.4170632339999, -8.493610975999957], [-74.41648235899999, -8.49455472699998], [-74.41561123299994, -8.495934225999974], [-74.41060185899988, -8.50210510199986], [-74.40740748399998, -8.505662600999926], [-74.40369585899992, -8.509219726999902], [-74.40228023399993, -8.510580975999915], [-74.40075560899999, -8.511833350999893], [-74.39721648399984, -8.514011226999969], [-74.39198935899998, -8.517387226999972], [-74.38953910899994, -8.518911725999885], [-74.38610885799994, -8.520654100999934], [-74.38474748399994, -8.52130747699988], [-74.3834952339999, -8.522015350999936], [-74.3820796089999, -8.52250535099995], [-74.38097785899998, -8.522824350999883], [-74.37636223399988, -8.523812225999905], [-74.37118973399993, -8.523757725999928], [-74.36999185899992, -8.523213225999939], [-74.36926298399993, -8.522892726999942], [-74.36866523399988, -8.522892726999942], [-74.36810485899997, -8.522817976999931], [-74.36709610899999, -8.52296735199991], [-74.36541510899997, -8.523228850999885], [-74.36223973399996, -8.523863976999962], [-74.34703523399997, -8.52688997599995], [-74.32245698399993, -8.531767601999945], [-74.32398248399994, -8.532351601999949], [-74.32871560799998, -8.53527185199988], [-74.32904723399997, -8.535388975999979], [-74.32956610899998, -8.535598225999877], [-74.33528123399998, -8.53765235099985], [-74.33762110899988, -8.538653600999908], [-74.33839260899992, -8.539023975999896], [-74.33894810899989, -8.539301726999895], [-74.3394419839999, -8.539548601999968], [-74.33990485899994, -8.539795475999881], [-74.34073810899997, -8.540351100999942], [-74.34197260899992, -8.541153476999966], [-74.34371673299995, -8.542336975999945], [-74.34456498299994, -8.542912601999944], [-74.35064485899994, -8.547109976999877], [-74.35141648399991, -8.547603601999981], [-74.35191023399983, -8.54800485099986], [-74.35258923399988, -8.548436975999891], [-74.35336073399992, -8.54893072599998], [-74.35447173399996, -8.549609725999971], [-74.35910110799989, -8.552047726999945], [-74.35953310899993, -8.552232976999903], [-74.36018123399992, -8.552387226999883], [-74.36160098299996, -8.552788475999876], [-74.36320573399996, -8.553158850999978], [-74.36822485899995, -8.554333226999972], [-74.37573573399993, -8.55609072599998], [-74.37616785799997, -8.556214226999828], [-74.37659985899995, -8.556275850999953], [-74.37700110899993, -8.556430226999908], [-74.37805048399997, -8.55680060099985], [-74.38074385899995, -8.557845100999941], [-74.39221610899989, -8.562293975999978], [-74.39261735899998, -8.562448351999876], [-74.39314198299996, -8.562602476999928], [-74.39437648399996, -8.562942100999976], [-74.4046562339999, -8.565424976999964], [-74.41264985899994, -8.568709726999941], [-74.41923285899992, -8.571665600999836], [-74.42321873399993, -8.574388725999881], [-74.42387023399993, -8.580212976999974], [-74.42150610899989, -8.59376147699993], [-74.41844173399994, -8.613558976999968], [-74.41844173399994, -8.615613350999979], [-74.41778935899993, -8.618866476999926], [-74.42037885799988, -8.62475010199995], [-74.4248727339999, -8.630350851999879], [-74.42531923399997, -8.63133322699997], [-74.42585523399993, -8.632315726999934], [-74.43376948399998, -8.649910100999875], [-74.43434185899991, -8.652435726999954], [-74.43606635799995, -8.656923851999977], [-74.4406641089999, -8.664962850999927], [-74.44298298399991, -8.669835100999933], [-74.44577310899996, -8.679564976999927], [-74.44639835899989, -8.681261976999906], [-74.44693423399997, -8.684030851999978], [-74.4473808589999, -8.686174476999952], [-74.44791673399993, -8.687692726999899], [-74.44836335799994, -8.689121975999967], [-74.44957260899997, -8.691085100999942], [-74.45203710899995, -8.695085976999962], [-74.46424873399997, -8.706528351999964], [-74.47949773399995, -8.719435601999976], [-74.48594135899998, -8.724644476999913], [-74.49168573399993, -8.72863635199991], [-74.52535123399991, -8.749316225999962], [-74.52604385899997, -8.73740335199983], [-74.52687498399996, -8.723828225999966], [-74.52778960899997, -8.71097260099998], [-74.53612260899996, -8.629864976999897], [-74.54138535899995, -8.608578601999852], [-74.54342860899987, -8.595735226999977], [-74.54375273399995, -8.593698350999944], [-74.54401798399988, -8.59298185199998], [-74.5471346089999, -8.58456722599982], [-74.55529610899998, -8.574998601999937], [-74.55694198399993, -8.573068851999949], [-74.56687448399992, -8.563420225999891], [-74.56877860899982, -8.561570476999975], [-74.57757148399992, -8.55379222599987], [-74.5829824839999, -8.551086726999927], [-74.58974623399996, -8.548719351999978], [-74.59307273399997, -8.54861860199992], [-74.60090648399995, -8.54838122599989], [-74.61277573399997, -8.54861860199992], [-74.61781585899996, -8.548719351999978], [-74.63032885899997, -8.550410351999915], [-74.64419448399997, -8.554130351999959], [-74.65400198399988, -8.557850475999942], [-74.66215123399996, -8.561110225999926], [-74.66245148399992, -8.468156850999833], [-74.66245185899993, -8.467976475999933], [-74.56847485899993, -8.42078060199998], [-74.56847585899999, -8.420775350999975], [-74.56942785899997, -8.415766476999977], [-74.56740623399998, -8.415341850999937], [-74.56917973399999, -8.407650351999962], [-74.56996098399986, -8.404265601999953], [-74.57027935899998, -8.404283226999894], [-74.57392848399996, -8.40507897699996], [-74.57496098399992, -8.400169975999916], [-74.57591998399988, -8.39586372599996], [-74.57463785899995, -8.395566350999957], [-74.57457348399993, -8.395871100999955], [-74.57254298399988, -8.395341475999942], [-74.57239448399997, -8.39586135199994], [-74.56967198399991, -8.395195350999927], [-74.56625560899994, -8.394379975999868], [-74.56426423399995, -8.393950476999919], [-74.56296085899993, -8.398252225999954], [-74.55818948399997, -8.39711510199993], [-74.55775885899993, -8.399219726999831], [-74.55555660899995, -8.398714225999925], [-74.55356510899998, -8.398284725999929], [-74.5537213589999, -8.397581850999927], [-74.55437410899992, -8.394629726999938], [-74.55496485899994, -8.391732476999948], [-74.55346285899992, -8.39136922699987], [-74.5525253589999, -8.391160100999969], [-74.55201523399995, -8.39320510199991], [-74.55162035899997, -8.395368101999907], [-74.54914898399994, -8.395980101999896], [-74.54764085899996, -8.396291351999935], [-74.54689848399983, -8.396373100999938], [-74.54583010899995, -8.396371101999932], [-74.54543348399994, -8.396298850999926], [-74.54518948399982, -8.39625197599986], [-74.54501373399995, -8.396226601999956], [-74.54451760899991, -8.396144475999847], [-74.54309760899991, -8.39586135199994], [-74.54281635899991, -8.395826225999883], [-74.54242773399994, -8.39577935199992], [-74.54194723399996, -8.395597600999963], [-74.54156448399993, -8.39558010099995], [-74.54113873399996, -8.39545310099993], [-74.5399863589999, -8.395406225999977], [-74.53955073399999, -8.395269475999896], [-74.53899410899993, -8.395007851999935], [-74.5379941089999, -8.394906225999875], [-74.5374531089999, -8.394996100999947], [-74.53640823399996, -8.395265600999949], [-74.53600385899989, -8.395255851999934], [-74.53583598399996, -8.395248100999936], [-74.53486723399999, -8.395308601999943], [-74.53389648399997, -8.39518960199996], [-74.53333985899991, -8.395072226999957], [-74.53205860899988, -8.394998100999942], [-74.53167773399997, -8.39490822599987], [-74.53143360899992, -8.39496097599988], [-74.53127348399994, -8.3950781019999], [-74.53127348399994, -8.39520510199992], [-74.5313731089999, -8.395423851999908], [-74.5313183589999, -8.395540975999893], [-74.5310898589999, -8.395566351999946], [-74.53066210899988, -8.395414101999961], [-74.53013673399994, -8.39514060099998], [-74.52981635899988, -8.395050726999955], [-74.52959373399995, -8.395068351999953], [-74.5294043589999, -8.395167976999971], [-74.52930473399994, -8.395484475999922], [-74.52907635899993, -8.39561897699997], [-74.5288613589999, -8.39558197699995], [-74.52842773399993, -8.395337850999965], [-74.52805273399997, -8.39528322699988], [-74.52777148399997, -8.39528322599989], [-74.52738873399994, -8.395373100999961], [-74.52690035899991, -8.395679725999912], [-74.52641210899986, -8.396085975999881], [-74.52600198399995, -8.39657422599987], [-74.52565823399993, -8.397052725999856], [-74.52528310899999, -8.39735935199991], [-74.52496298399996, -8.397414100999981], [-74.52458985899989, -8.39728710199995], [-74.5244141089999, -8.397187475999885], [-74.52428510899989, -8.39716010199993], [-74.5240703589999, -8.397177726999871], [-74.52344535899988, -8.39765622699997], [-74.52298823399997, -8.397937475999981], [-74.52287310899999, -8.397865225999908], [-74.52255273399999, -8.39763672599986], [-74.5224003589999, -8.397447225999883], [-74.52229298399999, -8.397165975999883], [-74.52232423399994, -8.396976600999949], [-74.52235348399995, -8.396869100999936], [-74.52248435899998, -8.39675972699996], [-74.5229648589999, -8.3964628519999], [-74.52320898399995, -8.396253850999926], [-74.5235058589999, -8.395765600999937], [-74.52372660899988, -8.395369101999904], [-74.52402535899989, -8.394681600999945], [-74.52429298399994, -8.394165975999897], [-74.52506248399999, -8.392845726999951], [-74.52522260899985, -8.392439475999879], [-74.52530660899998, -8.392113225999879], [-74.52530660899998, -8.391896475999886], [-74.52523823399997, -8.391624975999889], [-74.52508598399999, -8.3914179759999], [-74.52482623399999, -8.391308601999924], [-74.5244141089999, -8.391191350999918], [-74.52340623399994, -8.39099810099998], [-74.52302535899997, -8.390828100999954], [-74.52286523399994, -8.390591850999954], [-74.52266598399996, -8.390039101999946], [-74.52240823399995, -8.389939475999881], [-74.52210173399999, -8.389894475999881], [-74.52118748399994, -8.389792975999967], [-74.52085160899986, -8.38967572699994], [-74.52056835899998, -8.389431601999888], [-74.52029498399997, -8.389122975999953], [-74.51999610899998, -8.388697100999934], [-74.51975198399998, -8.38798247699998], [-74.51947073399998, -8.38718747699994], [-74.51925585899988, -8.386833975999878], [-74.51894335899988, -8.386480475999974], [-74.51857498399994, -8.386289100999932], [-74.51795473399989, -8.387794725999981], [-74.51746198299998, -8.389125100999934], [-74.51662435899993, -8.392475851999961], [-74.51529398399998, -8.39533360099989], [-74.51376648399992, -8.397747976999938]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "SAN FERNANDO", "CODCCPP": "0001", "DEPARTAMEN": "UCAYALI", "DISTRITO": "MANANTAY", "FUENTE": "INEI", "IDDIST": "250107", "IDDPTO": "25", "IDPROV": "2501", "PROVINCIA": "CORONEL PORTILLO"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_81eb48c182c1c21ce304f3a618794e10.addTo(feature_group_55cd75ffc0e89227fd03fa5b31ffd763);
        
    
            feature_group_55cd75ffc0e89227fd03fa5b31ffd763.addTo(map_0b4e05430aa1160d83236d8986bf2695);
        
    
            var feature_group_ccbc57e67c721d47fd4165b626aac83d = L.featureGroup(
                {
}
            );
        
    
            var circle_cc43652d564c84c27e53d0061ff0c647 = L.circle(
                [-8.3996103, -74.5347843],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_ccbc57e67c721d47fd4165b626aac83d);
        
    
            var circle_93cc74bb5dd567e0b52021fd0e99a44f = L.circle(
                [-8.4058702, -74.5540731],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_ccbc57e67c721d47fd4165b626aac83d);
        
    
            var circle_685ca140211aecb12b2372acf8116240 = L.circle(
                [-8.3982765, -74.5599596],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_ccbc57e67c721d47fd4165b626aac83d);
        
    
            var circle_803528177de777d33cffdcac4e05bae3 = L.circle(
                [-8.3982801, -74.5598062],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_ccbc57e67c721d47fd4165b626aac83d);
        
    
            feature_group_ccbc57e67c721d47fd4165b626aac83d.addTo(map_0b4e05430aa1160d83236d8986bf2695);
        
    
            var feature_group_906484321f4ad8eb7413f1c4c3475538 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_ca4bf099830ce814df13501077170088 = L.circleMarker(
                [-8.3996103, -74.5347843],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_906484321f4ad8eb7413f1c4c3475538);
        
    
        var popup_8b42e1e744230d9579946770d26155a4 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_6889a7c85252358a65f8201930350bbf = $(`<div id="html_6889a7c85252358a65f8201930350bbf" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-132509</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.3996103</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-74.5347843</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Los Ceticos</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_8b42e1e744230d9579946770d26155a4.setContent(html_6889a7c85252358a65f8201930350bbf);
            
        

        circle_marker_ca4bf099830ce814df13501077170088.bindPopup(popup_8b42e1e744230d9579946770d26155a4)
        ;

        
    
    
            circle_marker_ca4bf099830ce814df13501077170088.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_207033954b40ee1c4b66c9c6ad907ba5 = L.circleMarker(
                [-8.4058702, -74.5540731],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_906484321f4ad8eb7413f1c4c3475538);
        
    
        var popup_3c10d08ac3896677065ff82f4163f87e = L.popup({
  "maxWidth": 460,
});

        
            
                var html_0340e91e6715acc959d99f02a7e35c59 = $(`<div id="html_0340e91e6715acc959d99f02a7e35c59" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-21234</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.4058702</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-74.5540731</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Los Laureles</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_3c10d08ac3896677065ff82f4163f87e.setContent(html_0340e91e6715acc959d99f02a7e35c59);
            
        

        circle_marker_207033954b40ee1c4b66c9c6ad907ba5.bindPopup(popup_3c10d08ac3896677065ff82f4163f87e)
        ;

        
    
    
            circle_marker_207033954b40ee1c4b66c9c6ad907ba5.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_d1c0a93900542599205080e2020d4dff = L.circleMarker(
                [-8.3982765, -74.5599596],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_906484321f4ad8eb7413f1c4c3475538);
        
    
        var popup_138597ee7e745a55effc49df71ad6fbb = L.popup({
  "maxWidth": 460,
});

        
            
                var html_d9bc714ac6d82a7df5801faa289b77ec = $(`<div id="html_d9bc714ac6d82a7df5801faa289b77ec" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-248682</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.3982765</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-74.5599596</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Avenida T√∫pac Amaru</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_138597ee7e745a55effc49df71ad6fbb.setContent(html_d9bc714ac6d82a7df5801faa289b77ec);
            
        

        circle_marker_d1c0a93900542599205080e2020d4dff.bindPopup(popup_138597ee7e745a55effc49df71ad6fbb)
        ;

        
    
    
            circle_marker_d1c0a93900542599205080e2020d4dff.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_90ae1795ff4679415b87bf38000788f8 = L.circleMarker(
                [-8.3982801, -74.5598062],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_906484321f4ad8eb7413f1c4c3475538);
        
    
        var popup_6f42a805071d8870f3d44d3bda89486e = L.popup({
  "maxWidth": 460,
});

        
            
                var html_547e70320a096a068e24557ba56bd0a3 = $(`<div id="html_547e70320a096a068e24557ba56bd0a3" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-248683</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.3982801</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-74.5598062</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Avenida T√∫pac Amaru</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_6f42a805071d8870f3d44d3bda89486e.setContent(html_547e70320a096a068e24557ba56bd0a3);
            
        

        circle_marker_90ae1795ff4679415b87bf38000788f8.bindPopup(popup_6f42a805071d8870f3d44d3bda89486e)
        ;

        
    
    
            circle_marker_90ae1795ff4679415b87bf38000788f8.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_906484321f4ad8eb7413f1c4c3475538.addTo(map_0b4e05430aa1160d83236d8986bf2695);
        
    
            var feature_group_b52e83da5841c6239f778fd726f0adc6 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_a50764099ddbc24362dd8bdba8d24feb = L.circleMarker(
                [-8.405868002, -74.55392539503238],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_b52e83da5841c6239f778fd726f0adc6);
        
    
        var popup_1cdc7e0bb52b1e84877297b1e1beabe8 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_eb46f579b0b4765a44621c70a14eaa8f = $(`<div id="html_eb46f579b0b4765a44621c70a14eaa8f" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-03-335</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>06/03/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>19:50</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>MUERTE </td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. LOS LAURELES CON EL JR. PARAISO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>AA.HH. YOSHIYAMA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.405868002</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-74.55392539503238</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_1cdc7e0bb52b1e84877297b1e1beabe8.setContent(html_eb46f579b0b4765a44621c70a14eaa8f);
            
        

        circle_marker_a50764099ddbc24362dd8bdba8d24feb.bindPopup(popup_1cdc7e0bb52b1e84877297b1e1beabe8)
        ;

        
    
    
            var circle_marker_1c25e1eb50dd76bf0319e277a99f996d = L.circleMarker(
                [-8.399637781, -74.53477976385207],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_b52e83da5841c6239f778fd726f0adc6);
        
    
        var popup_b09c9e92f41a72cc723540468f5ae728 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_63f17831032ac78f357fb4555fbb9177 = $(`<div id="html_63f17831032ac78f357fb4555fbb9177" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-07-105</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>13/07/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>19:10</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>CHOQUE POR EMBISTE Y VOLCADURA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>JR. LOS CETICOS CON JR. SAN FERNANDO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>POR EL COLEGIO SAN FERNANDO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.399637781</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-74.53477976385207</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>OTRO (IMPRUDENCIA DEL CONDUCTOR)</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'>CONDUCIR MIENTRAS SUMINISTRABA MEDICAMENTOS, HECHO QUE CAUSAN EFECTOS SECUNDARIOS, FALTA DE CONOCIMIENTO DE LAS NORMAS DE TRANSITO AL NO SER TITULAR DE UNA LICENCIA QUE LE FACULTE EL MANEJO DE MOTOCICLETA.</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>CONDUCTOR DE LA UT-1 SIN PRESENCIA DE ALCOHOL  0.00 G/L ; Y EL CONDUCTOR DE LA UT-2 SIN PRESENCIA DE ALCOHOL DE 0.00 G/L.</td></tr></table></div></div>`)[0];
                popup_b09c9e92f41a72cc723540468f5ae728.setContent(html_63f17831032ac78f357fb4555fbb9177);
            
        

        circle_marker_1c25e1eb50dd76bf0319e277a99f996d.bindPopup(popup_b09c9e92f41a72cc723540468f5ae728)
        ;

        
    
    
            var circle_marker_99e0d74d9256e8797b65767d2dc0474e = L.circleMarker(
                [-8.398294, -74.559825],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_b52e83da5841c6239f778fd726f0adc6);
        
    
        var popup_b0b351cd80212b5010b69b0e9d0e345c = L.popup({
  "maxWidth": 480,
});

        
            
                var html_3ec5ee96bc7227ccf6047ebb69ec695d = $(`<div id="html_3ec5ee96bc7227ccf6047ebb69ec695d" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-05-146</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>01/05/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>23:45</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>DESPISTE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>DESPISTE SEGUIDO DE CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. TUPAC AMARU </td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>VIDENITA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.398294</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-74.559825</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>CONDUCIR EN ESTADO DE EBRIEDAD Y/O DROGADICCI√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>S/O</td></tr></table></div></div>`)[0];
                popup_b0b351cd80212b5010b69b0e9d0e345c.setContent(html_3ec5ee96bc7227ccf6047ebb69ec695d);
            
        

        circle_marker_99e0d74d9256e8797b65767d2dc0474e.bindPopup(popup_b0b351cd80212b5010b69b0e9d0e345c)
        ;

        
    
    
            feature_group_b52e83da5841c6239f778fd726f0adc6.addTo(map_0b4e05430aa1160d83236d8986bf2695);
        
    
            map_0b4e05430aa1160d83236d8986bf2695.fitBounds(
                [[-8.3996103, -74.5347843], [-8.4058702, -74.5540731], [-8.3982765, -74.5599596], [-8.3982801, -74.5598062]],
                {}
            );
        
    
            var layer_control_9c6504da546f01fac53590f32c89b6ce_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_4692c78f6a419f04f5c07662d2d0073b,
                },
                overlays :  {
                    "contorno" : feature_group_55cd75ffc0e89227fd03fa5b31ffd763,
                    "intersecciones: buffers (50m)" : feature_group_ccbc57e67c721d47fd4165b626aac83d,
                    "intersecciones: puntos" : feature_group_906484321f4ad8eb7413f1c4c3475538,
                    "siniestros fatales" : feature_group_b52e83da5841c6239f778fd726f0adc6,
                },
            };
            let layer_control_9c6504da546f01fac53590f32c89b6ce = L.control.layers(
                layer_control_9c6504da546f01fac53590f32c89b6ce_layers.base_layers,
                layer_control_9c6504da546f01fac53590f32c89b6ce_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_0b4e05430aa1160d83236d8986bf2695);

        
    
        feature_group_906484321f4ad8eb7413f1c4c3475538.bringToFront();
        feature_group_b52e83da5841c6239f778fd726f0adc6.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_906484321f4ad8eb7413f1c4c3475538;
        var defaultColor = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              ly.setStyle({ color: defaultColor, fillColor: defaultColor });
            });
          }

          // ---------- B√∫squeda ----------
          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly); // "nombre | codigo"
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }

          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>