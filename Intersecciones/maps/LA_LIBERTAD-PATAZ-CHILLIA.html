<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_efdb1fc4975177d4a939e38a0d008e40 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        LA_LIBERTAD-PATAZ-CHILLIA
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Intersecci√≥n priorizada</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:6px;">
            <span style="display:inline-block; width:14px; height:14px; background:#f59e0b; border-radius:50%;"></span>
            <span>Amarillo: Coincidencia de b√∫squeda</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_efdb1fc4975177d4a939e38a0d008e40" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_efdb1fc4975177d4a939e38a0d008e40 = L.map(
                "map_efdb1fc4975177d4a939e38a0d008e40",
                {
                    center: [-8.1247182, -77.51463774999999],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_efdb1fc4975177d4a939e38a0d008e40);

            

        
    
            var tile_layer_5c0dbd722d9209e4883deb9362d2bf52 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_5c0dbd722d9209e4883deb9362d2bf52.addTo(map_efdb1fc4975177d4a939e38a0d008e40);
        
    
            var feature_group_2ab7464072b317b7b063a8c13fb756b7 = L.featureGroup(
                {
}
            );
        
    
        function geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9 = L.geoJson(null, {
                onEachFeature: geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_onEachFeature,
            
                style: geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_styler,
            ...{
}
        });

        function geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_add (data) {
            geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9
                .addData(data);
        }
            geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9_add({"features": [{"geometry": {"coordinates": [[[[-77.49212698599996, -8.066986350999912], [-77.49127923599997, -8.067050725999934], [-77.49094923699994, -8.067130850999888], [-77.49055273699992, -8.067339850999929], [-77.48977736099988, -8.067919975999928], [-77.4882382369999, -8.068331975999968], [-77.48803123599998, -8.068509725999945], [-77.48786723699993, -8.068574225999953], [-77.48769136199996, -8.06878510099989], [-77.48719548699995, -8.068892600999902], [-77.48662698699991, -8.069083975999945], [-77.4857499869999, -8.06947460099991], [-77.48494336099998, -8.069904225999949], [-77.48451948699994, -8.070302725999966], [-77.4840273609999, -8.070949226999971], [-77.48377823699991, -8.071537100999933], [-77.48368548699989, -8.07175585099992], [-77.48329498699991, -8.072845725999969], [-77.48256636199994, -8.07355072599995], [-77.48187736199992, -8.074130100999923], [-77.48172073599994, -8.074261725999975], [-77.48166086199996, -8.074343725999938], [-77.48105473599998, -8.075173850999931], [-77.48087298599995, -8.075908225999967], [-77.48072661199996, -8.076283225999816], [-77.47956598699994, -8.077424100999963], [-77.47887998599998, -8.07819372699987], [-77.47847673599995, -8.079150100999868], [-77.47829773699988, -8.07957460199998], [-77.47802673599995, -8.080669850999925], [-77.47762536199991, -8.082292725999935], [-77.47722373699992, -8.08304560099998], [-77.47689111199992, -8.08431247599998], [-77.47682886199993, -8.085677225999916], [-77.47676548699991, -8.08706472599988], [-77.47684098599996, -8.087314350999918], [-77.47688411199988, -8.088260350999974], [-77.47680048699988, -8.088539101999913], [-77.47669923699993, -8.088876850999895], [-77.47631273699994, -8.09043447599987], [-77.47606173699995, -8.0910754759999], [-77.47571348699995, -8.091758475999939], [-77.47530936099997, -8.093007475999968], [-77.47511348699993, -8.094093350999856], [-77.47513223699997, -8.095312350999905], [-77.4753011119999, -8.09623122599993], [-77.4751509859999, -8.096999975999893], [-77.47465698699989, -8.098183475999974], [-77.47402373699998, -8.099372850999941], [-77.47274836199989, -8.101115350999976], [-77.47100911099989, -8.103099225999927], [-77.46916211199994, -8.104912225999897], [-77.4670409869999, -8.108263600999976], [-77.46594561199998, -8.110259850999967], [-77.46473548599994, -8.112334350999902], [-77.46408711099997, -8.113328475999936], [-77.46331623699996, -8.114092225999968], [-77.46255448699998, -8.115001350999876], [-77.46213673599993, -8.11559110199994], [-77.46192723699994, -8.11606722599987], [-77.46186648699995, -8.116205475999948], [-77.46189098599996, -8.117090100999974], [-77.46190623599989, -8.118080225999904], [-77.46184186099998, -8.118883850999964], [-77.46156773699994, -8.120044851999921], [-77.46053948599996, -8.122471475999873], [-77.4602446109999, -8.123282351999933], [-77.45977773699997, -8.124191600999893], [-77.45945836199996, -8.124658351999926], [-77.45911836199997, -8.125338475999968], [-77.45881748699992, -8.126240975999906], [-77.45839023599996, -8.128028350999955], [-77.45777736199994, -8.12915910099997], [-77.45717623699994, -8.129922726999894], [-77.45634761199995, -8.130296350999913], [-77.45511698699994, -8.130521101999932], [-77.45441948699994, -8.130382100999896], [-77.45378961199998, -8.130119725999975], [-77.45333473699998, -8.129979725999931], [-77.45315973599998, -8.130347100999927], [-77.45329973699984, -8.13134447699997], [-77.45395923699994, -8.134016975999941], [-77.45447911199989, -8.134975600999951], [-77.45513873699991, -8.13588210099988], [-77.45574648599995, -8.137315100999956], [-77.45584398599993, -8.138257475999978], [-77.45586023699997, -8.139102351999952], [-77.45555148699998, -8.140320850999956], [-77.45551311199989, -8.140790600999935], [-77.45557673599995, -8.141469850999897], [-77.45548311199991, -8.142160100999831], [-77.4554377369999, -8.143342850999886], [-77.45563273699997, -8.144268975999978], [-77.45586023699997, -8.144626350999943], [-77.4564126119999, -8.145195100999956], [-77.45771236199988, -8.146056100999942], [-77.45842723699997, -8.14657622599998], [-77.45920711199994, -8.14698222599992], [-77.45953198699982, -8.147030976999872], [-77.460230487, -8.146998475999965], [-77.46075061199991, -8.147095975999946], [-77.46084148699998, -8.147448225999938], [-77.46073623699988, -8.148103350999975], [-77.46064123699995, -8.14869435199995], [-77.46067773699991, -8.149355225999898], [-77.46073136199993, -8.150328225999942], [-77.46070111099993, -8.151461100999882], [-77.46067486199996, -8.15244385099993], [-77.4604904869999, -8.154619975999935], [-77.46022136199991, -8.155497351999884], [-77.45974173599996, -8.156491850999942], [-77.45902811099995, -8.15732247599982], [-77.45851336099992, -8.15777872599989], [-77.45796348599998, -8.158550975999958], [-77.45770598699988, -8.159077476999812], [-77.45769611199995, -8.15973622599995], [-77.45797236199991, -8.160467350999966], [-77.45883336199984, -8.161588475999906], [-77.45948323699997, -8.162368350999941], [-77.46010073699989, -8.163164476999953], [-77.46065311099994, -8.163944350999884], [-77.46094548599996, -8.164496725999925], [-77.46100523599995, -8.164786726999864], [-77.46098186199998, -8.164973850999957], [-77.46075061199991, -8.165633975999981], [-77.46040936199995, -8.166625100999909], [-77.45984073599988, -8.167794976999971], [-77.45962948599998, -8.168217350999953], [-77.45937948699998, -8.168378725999958], [-77.45809548699998, -8.169207725999968], [-77.45682548599996, -8.169683976999977], [-77.455502487, -8.170001600999967], [-77.45386186199988, -8.170160350999936], [-77.45240661199995, -8.170054475999962], [-77.45096711199994, -8.170186225999942], [-77.44864936099998, -8.170398475999946], [-77.44779073699993, -8.170485725999868], [-77.44727336099999, -8.170583725999961], [-77.44706161199997, -8.17103347699998], [-77.44698223599988, -8.171774350999897], [-77.44684998599996, -8.173309100999973], [-77.44674898599999, -8.174977226999943], [-77.44658536199995, -8.17571697699998], [-77.44584436199989, -8.17677522699995], [-77.44531523699999, -8.17709285199993], [-77.44444198699995, -8.17709285199993], [-77.4438069869999, -8.177701476999971], [-77.44367473699998, -8.178812851999965], [-77.44364823599983, -8.179924225999912], [-77.44343636199989, -8.18180285099993], [-77.4434088619999, -8.181832226999973], [-77.44354236199996, -8.182967100999974], [-77.44429361199991, -8.185273475999963], [-77.44421336199997, -8.187076600999944], [-77.44372961199997, -8.189434975999916], [-77.4408873619999, -8.191732975999969], [-77.43949661199997, -8.193667976999961], [-77.43828711199995, -8.197054475999948], [-77.43211898599998, -8.202375975999871], [-77.42764411199994, -8.205701976999933], [-77.42407623699995, -8.208423350999908], [-77.42074798699997, -8.210455101999969], [-77.42059186199992, -8.211087600999917], [-77.42066923699997, -8.212364725999976], [-77.42206248699995, -8.216118851999909], [-77.42294186199996, -8.217433226999958], [-77.42329673699999, -8.218902600999968], [-77.42289648699995, -8.220490225999924], [-77.42227148699999, -8.222220725999932], [-77.42115073699989, -8.224191350999945], [-77.41958923699985, -8.225678476999974], [-77.41773636099992, -8.227580100999944], [-77.41778323699998, -8.2278847259999], [-77.41793361099991, -8.228054726999915], [-77.41817773599996, -8.228201225999953], [-77.4189941119999, -8.228517601999954], [-77.41947461199987, -8.22902147699989], [-77.41982036199988, -8.229290975999902], [-77.4201386119999, -8.229382850999968], [-77.42057036199992, -8.229605476999893], [-77.42091011199989, -8.230310600999871], [-77.4212441119999, -8.230712850999964], [-77.42154886099996, -8.23083772699988], [-77.42219336099993, -8.230984350999961], [-77.42284373599995, -8.231212850999952], [-77.42339061199988, -8.231253850999963], [-77.42355073699997, -8.23120897699988], [-77.42367773599983, -8.231113225999934], [-77.42393748599983, -8.230787100999976], [-77.42414848599998, -8.2304354769999], [-77.4243271119999, -8.230275725999945], [-77.42436898699998, -8.230238225999926], [-77.42442423599994, -8.230226975999813], [-77.42483598699994, -8.230142475999912], [-77.42517973599996, -8.230246100999977], [-77.42548236099992, -8.230511725999918], [-77.42573823699996, -8.230939475999946], [-77.42601948699996, -8.231687476999923], [-77.42608598699996, -8.23221485099998], [-77.42625198699994, -8.232976600999962], [-77.42637698699997, -8.23326960099996], [-77.4265898619999, -8.233572225999922], [-77.42716986099992, -8.234197225999935], [-77.42839648699999, -8.235081975999947], [-77.4291211119999, -8.235787100999971], [-77.43089261199992, -8.236929600999872], [-77.43142386199992, -8.237171850999971], [-77.43219136099992, -8.237374975999955], [-77.43319723699994, -8.237929725999948], [-77.43473236199992, -8.238462851999941], [-77.43585348699997, -8.238624976999915], [-77.43650198599988, -8.238648475999923], [-77.43679686099995, -8.238708975999941], [-77.4371601119999, -8.2388672269999], [-77.43757423699998, -8.239220725999928], [-77.43796286199995, -8.239414225999951], [-77.43863673599998, -8.23951410099994], [-77.43880473699988, -8.239539100999878], [-77.43912386199992, -8.239632100999927], [-77.44004486099993, -8.23990035099996], [-77.44044723699994, -8.23989635099997], [-77.44086911099998, -8.239736225999934], [-77.4410438619999, -8.239702351999881], [-77.44128123699983, -8.23965610099998], [-77.4418886119999, -8.239691350999976], [-77.44269636199994, -8.239983975999905], [-77.44358198699996, -8.240304725999977], [-77.44441011199996, -8.240654351999979], [-77.44499611199996, -8.240974600999891], [-77.44612698699984, -8.241759725999941], [-77.44672261099998, -8.242050725999945], [-77.44695698599986, -8.242123101999823], [-77.44713086099995, -8.242175726999903], [-77.44779098699996, -8.242165975999967], [-77.44821098699998, -8.242269475999933], [-77.44841598699998, -8.242406225999957], [-77.448511737, -8.242470725999965], [-77.44895698699997, -8.242935601999875], [-77.44922661099997, -8.243720726999925], [-77.44960548699999, -8.244545100999915], [-77.44995511199994, -8.245488226999896], [-77.45047261199994, -8.245941351999932], [-77.45065036199992, -8.246162100999982], [-77.45099023699998, -8.2468808509999], [-77.45172661099997, -8.24755272599998], [-77.45210348699999, -8.24795897599995], [-77.45248636099996, -8.248368975999938], [-77.45272073699988, -8.248570351999831], [-77.45340623599992, -8.2488398509999], [-77.45393511099991, -8.248939101999952], [-77.45500973599991, -8.249140600999851], [-77.45552936099995, -8.249201225999968], [-77.45649611199997, -8.249232475999975], [-77.45718161099995, -8.249496100999977], [-77.45746486099995, -8.249558600999876], [-77.45860548699989, -8.249611350999885], [-77.4592109859999, -8.249921850999897], [-77.4599667359999, -8.250132850999876], [-77.46052148699988, -8.250124976999928], [-77.46121673699997, -8.250507851999885], [-77.46191011199994, -8.251230475999932], [-77.46253711199995, -8.25175197599998], [-77.46278711199994, -8.251956976999907], [-77.46340036099997, -8.252322225999933], [-77.46377736199997, -8.252476601999888], [-77.46413086199993, -8.252517600999909], [-77.46441411199999, -8.252494101999957], [-77.46447398599997, -8.252457725999932], [-77.46490623699987, -8.252195350999898], [-77.46540036199997, -8.25203322599998], [-77.46595486199993, -8.252008225999873], [-77.46635548699987, -8.251990226999908], [-77.46667973699988, -8.252099600999884], [-77.46692186199994, -8.25222460099991], [-77.46707036099997, -8.25230072599993], [-77.46785736099997, -8.25284372599998], [-77.46828123699987, -8.252939475999938], [-77.46861136199993, -8.252904351999973], [-77.4689354869999, -8.252783225999963], [-77.46925386199996, -8.25256635099987], [-77.46943361099983, -8.25232622599998], [-77.46988473599993, -8.25153122599994], [-77.47018736199993, -8.251311601999873], [-77.47031248699989, -8.251220725999929], [-77.47056636199994, -8.251142600999913], [-77.4712617369999, -8.250808600999903], [-77.47215623699992, -8.250505976999932], [-77.47266073599997, -8.250413100999879], [-77.47291011199997, -8.250367226999913], [-77.47432223699991, -8.250005851999958], [-77.47544136199997, -8.24958397699993], [-77.47627536099998, -8.249132851999832], [-77.47677148599996, -8.24869535199997], [-77.47682186199995, -8.248631600999943], [-77.47722661199998, -8.248119100999872], [-77.477808612, -8.247783225999967], [-77.47840823599995, -8.247720725999955], [-77.47866123699993, -8.247763100999919], [-77.47965623699992, -8.247929725999938], [-77.48018748699991, -8.247951225999941], [-77.48029686199999, -8.247956976999944], [-77.48056798699997, -8.248032476999981], [-77.48062698699994, -8.248048850999908], [-77.4809238609999, -8.248232475999941], [-77.48102336099998, -8.248349600999973], [-77.48140536199998, -8.249069351999879], [-77.4815644869999, -8.2493691009999], [-77.48178311099997, -8.249664101999883], [-77.4818554869999, -8.249761725999974], [-77.48235548699995, -8.250087850999876], [-77.48260348599996, -8.250140601999874], [-77.48323236199997, -8.250564476999955], [-77.48338286199998, -8.251113225999973], [-77.48334823699997, -8.251376725999933], [-77.48332048699996, -8.251589850999892], [-77.48350198699995, -8.252078100999881], [-77.48503711199999, -8.253630850999912], [-77.48635348699992, -8.25458197699993], [-77.48705661199995, -8.2552226009999], [-77.48728123599994, -8.255498100999887], [-77.48742236099997, -8.255724725999926], [-77.48756448599994, -8.255953100999875], [-77.48775386199998, -8.256550726999933], [-77.48798048699996, -8.256953100999908], [-77.48829686199997, -8.257169975999943], [-77.48965611199998, -8.257601601999966], [-77.48991961199994, -8.257656851999968], [-77.49101361099997, -8.257886725999981], [-77.4918986109999, -8.258144476999917], [-77.49331648699996, -8.258697225999981], [-77.49395698599994, -8.25902147599993], [-77.49455611199994, -8.259619225999927], [-77.49473823699992, -8.25980072599998], [-77.49517186199984, -8.260314475999962], [-77.49521673599997, -8.260376975999975], [-77.49551761099991, -8.2608066009999], [-77.49621098699993, -8.262167975999944], [-77.49652736199988, -8.262453100999892], [-77.49666048699999, -8.262513850999937], [-77.49728911199998, -8.262800725999966], [-77.49736323599996, -8.262833975999968], [-77.49778511199997, -8.263171850999925], [-77.49861136199985, -8.264277350999919], [-77.4986123619999, -8.264278975999957], [-77.49897261199999, -8.264882975999967], [-77.49970698599998, -8.265615225999966], [-77.49999998699997, -8.265855475999956], [-77.50053323699996, -8.266773475999969], [-77.50084761199997, -8.267665975999932], [-77.50103123699995, -8.267990225999938], [-77.50149611099988, -8.268548850999935], [-77.50183598699994, -8.269025475999968], [-77.50209173599995, -8.269412100999887], [-77.50224023599998, -8.270007850999946], [-77.50236136199999, -8.270376975999966], [-77.50262698699999, -8.270818351999878], [-77.50313861199999, -8.271402350999892], [-77.5036211119999, -8.271761726999955], [-77.50412498699995, -8.272335975999965], [-77.50453511199999, -8.272685725999963], [-77.50466211199989, -8.272847726999942], [-77.50556448699996, -8.273349601999882], [-77.50571898599998, -8.273392226999931], [-77.50575586199989, -8.273402350999902], [-77.50657211199996, -8.273603475999948], [-77.50786323699998, -8.27383197699993], [-77.50895098699993, -8.273914100999946], [-77.50973048699996, -8.273810601999912], [-77.51024798599997, -8.2736621009999], [-77.51124223699998, -8.273294975999875], [-77.51296098599983, -8.272244100999899], [-77.51379298699999, -8.27188672699998], [-77.51425386199986, -8.271794976999956], [-77.51544348699997, -8.271742225999958], [-77.51761136199991, -8.27176372699995], [-77.51822661099993, -8.271552725999982], [-77.51900586199991, -8.271474600999909], [-77.52052736199988, -8.27106835099994], [-77.52108011199994, -8.270865226999945], [-77.52135161099994, -8.270701225999971], [-77.52178323699997, -8.27021872599994], [-77.52258598699996, -8.269517600999905], [-77.52361723699994, -8.26907810199998], [-77.52443161199989, -8.268593726999939], [-77.52694723699994, -8.267693350999934], [-77.52702923699997, -8.267619100999923], [-77.52761523699996, -8.267081975999929], [-77.52855861199993, -8.265693350999925], [-77.5286463619999, -8.265224600999886], [-77.52863473699995, -8.264808601999903], [-77.52809173699995, -8.262308600999916], [-77.52784386199994, -8.261740225999972], [-77.52727536099997, -8.26073247599993], [-77.52708011199991, -8.260054725999964], [-77.52697848699995, -8.258220725999934], [-77.52668748699995, -8.256814475999931], [-77.52660348599989, -8.254943350999895], [-77.5264766119999, -8.253587850999907], [-77.5264726119999, -8.252847600999871], [-77.52668548699995, -8.250722600999893], [-77.52686911199993, -8.24980860099987], [-77.52719923699993, -8.248722600999884], [-77.52775198699999, -8.24721885199989], [-77.52803911199993, -8.246720725999978], [-77.52855073699999, -8.246039100999894], [-77.52940823699998, -8.245128851999937], [-77.53050586199993, -8.243794975999947], [-77.53109173599984, -8.243337850999978], [-77.53157223699998, -8.243046850999974], [-77.53302748699997, -8.242396475999954], [-77.53416598699994, -8.241765600999884], [-77.53488086099998, -8.241435600999978], [-77.53589448599985, -8.241048851999949], [-77.53683786199991, -8.240898475999927], [-77.53789848699984, -8.240982476999932], [-77.54001173699999, -8.240968726999938], [-77.54074611199997, -8.240873100999977], [-77.54172461199994, -8.240505850999966], [-77.54222086199997, -8.240177725999956], [-77.54343948699989, -8.239085975999956], [-77.54443161199993, -8.238203101999943], [-77.54509961199994, -8.23773822599992], [-77.5457422369999, -8.237470726999902], [-77.54674611199994, -8.237212850999981], [-77.54741798699985, -8.237089975999936], [-77.54816798699989, -8.236851601999945], [-77.5487929869999, -8.236748100999876], [-77.55000973699998, -8.23669535099998], [-77.55134961199997, -8.236486351999929], [-77.55268361199995, -8.236415975999932], [-77.55362336199983, -8.2365991019999], [-77.55580761199997, -8.237299475999862], [-77.55583598699991, -8.237308600999881], [-77.5568534869999, -8.237554726999917], [-77.55851361099997, -8.237642601999937], [-77.55912298699985, -8.237790851999932], [-77.56028698699998, -8.238074226999913], [-77.56075048699995, -8.23813185199998], [-77.56215623599991, -8.238306600999977], [-77.56303711199996, -8.23829285099987], [-77.56366986099994, -8.238214851999942], [-77.56489261199994, -8.237773475999973], [-77.56563286199997, -8.237390600999959], [-77.5658144869999, -8.23720897599992], [-77.56632811099996, -8.236706976999926], [-77.56776361199996, -8.235740225999962], [-77.56875586199999, -8.23498435199997], [-77.57033011099998, -8.23408785099997], [-77.57092573599994, -8.23383985199996], [-77.57160548699989, -8.233656226999926], [-77.57282023699992, -8.233521475999908], [-77.57332611199996, -8.233111350999877], [-77.57402736099988, -8.232220725999923], [-77.57490823599994, -8.230941350999956], [-77.57526561199995, -8.230062350999958], [-77.57540423699993, -8.229240225999945], [-77.57532811199997, -8.228572226999916], [-77.57520898599995, -8.228337851999981], [-77.57480473699991, -8.227607475999946], [-77.57436323699989, -8.22664447699998], [-77.57419723699991, -8.22612110199998], [-77.57405473599994, -8.225191350999978], [-77.57374998599994, -8.224496100999943], [-77.57342573699992, -8.223478476999901], [-77.57333786199996, -8.222456975999933], [-77.57338861199997, -8.22195122599993], [-77.5733007369999, -8.220712850999973], [-77.57335736199997, -8.219873100999962], [-77.57358398699989, -8.218361350999942], [-77.57355661099996, -8.217025350999961], [-77.57372461199998, -8.216193350999959], [-77.57378323699993, -8.215414100999965], [-77.5735917369999, -8.213960975999896], [-77.57347073699992, -8.213564475999931], [-77.57329298699989, -8.212453101999927], [-77.57275586199995, -8.210876975999895], [-77.5721854869999, -8.209767601999943], [-77.57127148599994, -8.2086797259999], [-77.57124423699992, -8.208437476999961], [-77.57071873699988, -8.207255850999957], [-77.57038086199998, -8.206761726999957], [-77.56997936199997, -8.206323850999922], [-77.56971286199996, -8.206033225999875], [-77.56905936199996, -8.205614475999937], [-77.56767386199994, -8.20472672699998], [-77.5666229869999, -8.20374022599998], [-77.56603711199995, -8.202857475999906], [-77.56493548599991, -8.20204297599986], [-77.56422261199998, -8.201441225999872], [-77.56266586199996, -8.199111350999942], [-77.56216411199995, -8.19849997599988], [-77.56199811099998, -8.198138725999911], [-77.56137498599992, -8.197158226999875], [-77.5607812369999, -8.196484350999924], [-77.56058748699996, -8.196308101999819], [-77.56043548699989, -8.196169975999908], [-77.56003511099993, -8.195956975999877], [-77.55840198699997, -8.195799475999934], [-77.55809173699998, -8.195769475999839], [-77.55767386199994, -8.195636726999965], [-77.55736523699989, -8.195476601999928], [-77.55709961199994, -8.195234351999943], [-77.55687886099997, -8.194855475999873], [-77.5568417369999, -8.194576225999981], [-77.55692186199997, -8.19424997599998], [-77.55721673599993, -8.19373247599998], [-77.55818161199994, -8.19262497699998], [-77.5584687359999, -8.192224600999964], [-77.55862111199997, -8.192087726999944], [-77.56010936099995, -8.190642725999908], [-77.56083011199996, -8.190068350999923], [-77.56198636199997, -8.189310600999931], [-77.56290036199994, -8.188871100999961], [-77.56349611199994, -8.188505975999874], [-77.56421661199994, -8.187779351999893], [-77.56446873699991, -8.18737110099994], [-77.56507611199999, -8.185757850999948], [-77.56525586099997, -8.185521475999963], [-77.56572461199994, -8.185111475999975], [-77.56620111199999, -8.18444922599997], [-77.56707811199993, -8.182744100999912], [-77.56794536199999, -8.180796850999911], [-77.56858786099997, -8.179173850999916], [-77.56894336199997, -8.17800585099991], [-77.56959761199994, -8.17678322699993], [-77.56970311199996, -8.176248100999942], [-77.5702734869999, -8.174564475999944], [-77.57135936199995, -8.172839850999935], [-77.57266411199998, -8.171087850999925], [-77.57442973599996, -8.169224600999883], [-77.57567186099999, -8.167996100999915], [-77.57613298599995, -8.167640601999892], [-77.57674798699992, -8.167320350999887], [-77.57797073699993, -8.16702347599994], [-77.57970898599996, -8.16669722699993], [-77.58449611199995, -8.165083975999949], [-77.58751773699998, -8.163908226999979], [-77.58985348599998, -8.163269476999915], [-77.59014448699992, -8.163214850999907], [-77.59113086199989, -8.163027350999926], [-77.59323436199998, -8.162941351999962], [-77.59363286099989, -8.162929850999944], [-77.59412298599995, -8.162828100999889], [-77.59569548699994, -8.162048725999966], [-77.59637298699994, -8.161619100999872], [-77.59732223699996, -8.16111722599993], [-77.59749411199988, -8.160998100999905], [-77.59761911099991, -8.160906226999941], [-77.59806048699994, -8.160470725999971], [-77.59896486199989, -8.159777475999931], [-77.60108786199999, -8.15866210099989], [-77.60194723599994, -8.158349600999884], [-77.6026328619999, -8.157812476999936], [-77.60417573699993, -8.156419975999938], [-77.60452536199989, -8.156019476999916], [-77.6053906119999, -8.155208975999926], [-77.60552536199998, -8.155027351999877], [-77.60556248699999, -8.154882850999911], [-77.60568748699995, -8.154810600999895], [-77.60581248699998, -8.154484350999894], [-77.6059101109999, -8.154058475999932], [-77.60634761199998, -8.153080101999876], [-77.60675986099994, -8.152353475999973], [-77.60719136199998, -8.151746100999901], [-77.60745111199998, -8.151165975999959], [-77.60765623699996, -8.15071285199997], [-77.60814061199989, -8.149806601999956], [-77.60821873699996, -8.149415975999943], [-77.60824411199991, -8.148060600999884], [-77.60812198599996, -8.14728135199988], [-77.60786948699996, -8.146776475999957], [-77.60738636099995, -8.14619435099985], [-77.60693611199997, -8.145744225999977], [-77.60566248699996, -8.14469010099998], [-77.60412523599985, -8.143240725999874], [-77.6031479859999, -8.141626600999928], [-77.60250023699996, -8.140671350999924], [-77.60181948699994, -8.139375725999912], [-77.60148998699992, -8.13848635099987], [-77.6014681119999, -8.137673851999978], [-77.60156686199997, -8.137069850999922], [-77.60180848599998, -8.13643310099991], [-77.60213786199989, -8.135938976999967], [-77.60286248599988, -8.135170350999942], [-77.60337861199997, -8.134764100999917], [-77.60441073699991, -8.13423710099994], [-77.60557461199994, -8.133830725999871], [-77.6062773619999, -8.133435475999931], [-77.60804486199999, -8.132884726999919], [-77.6087343609999, -8.13238872699992], [-77.60953123699994, -8.131986351999956], [-77.60996486199991, -8.131874976999882], [-77.61242148699989, -8.131720350999956], [-77.61427073699997, -8.131604100999937], [-77.6149316119999, -8.131562475999942], [-77.61587498699998, -8.131456976999914], [-77.6165898619999, -8.131244100999936], [-77.61695898699998, -8.13094535099998], [-77.61812886199988, -8.129499850999935], [-77.6188378619999, -8.128312475999905], [-77.61895311199993, -8.127941350999947], [-77.61915423699998, -8.126828100999944], [-77.61979886099994, -8.125468726999884], [-77.62007223699999, -8.12418360199996], [-77.62115236199992, -8.121581975999902], [-77.62264261199994, -8.119341850999945], [-77.6232538619999, -8.118587850999972], [-77.62392973699997, -8.11788672699987], [-77.62445311199991, -8.117496100999972], [-77.62524798699997, -8.117001975999926], [-77.6258742359999, -8.116612725999971], [-77.62658061199994, -8.116286100999957], [-77.62841436199994, -8.115777350999963], [-77.63008086199989, -8.115134850999937], [-77.63054998699988, -8.114842725999893], [-77.63137823699992, -8.114255350999883], [-77.63177723699994, -8.113811100999897], [-77.63213861199989, -8.113201226999877], [-77.63253348699999, -8.112534850999907], [-77.63283873699999, -8.112124600999891], [-77.63331311199988, -8.111672975999909], [-77.63415623699996, -8.111085725999885], [-77.6351124869999, -8.110347850999972], [-77.63614386199998, -8.109331475999966], [-77.63666336199998, -8.108586100999958], [-77.63682898699994, -8.10817960099996], [-77.63685911199991, -8.10765260099987], [-77.63682898699994, -8.107208350999883], [-77.63671611199999, -8.106643725999902], [-77.63652023699996, -8.106191975999934], [-77.6360366109999, -8.105432475999976], [-77.63552823699996, -8.104773725999905], [-77.63467198699988, -8.10383272599995], [-77.63375911199995, -8.102722225999969], [-77.63267686199993, -8.101583475999973], [-77.63140636199995, -8.10037885099996], [-77.63006061199991, -8.098844850999967], [-77.62836673699991, -8.097037975999967], [-77.62749148699999, -8.09640747599991], [-77.6271816119999, -8.096091850999926], [-77.62668748699997, -8.09570310099997], [-77.62622261099995, -8.095226601999912], [-77.62539261199993, -8.09451947599996], [-77.62532811199992, -8.094474600999945], [-77.62452536199993, -8.093531225999868], [-77.62395511199992, -8.092331975999969], [-77.62314848599988, -8.089744100999951], [-77.6229746119999, -8.089429725999878], [-77.62207811199988, -8.08831447599988], [-77.62051173699996, -8.085839850999946], [-77.61923236199988, -8.082830100999956], [-77.61895311199993, -8.08170122599995], [-77.6187596119999, -8.081124975999955], [-77.61875198699994, -8.07983197599998], [-77.6184726109999, -8.080249975999948], [-77.61789448699994, -8.080597600999909], [-77.61735161199994, -8.080726725999966], [-77.61645311199987, -8.08075972599994], [-77.61589261199993, -8.080843725999955], [-77.61439848699996, -8.081279350999921], [-77.61290423699995, -8.08146097599996], [-77.61150198699994, -8.081919975999881], [-77.61055273599999, -8.082406225999819], [-77.60969536099992, -8.083007850999934], [-77.60857423599998, -8.083621101999881], [-77.60728123699994, -8.084080100999927], [-77.60674798599996, -8.084328100999926], [-77.60608011199992, -8.08472072599983], [-77.60463473699997, -8.085822225999948], [-77.60278511199988, -8.087009725999962], [-77.60204998699999, -8.08765997599994], [-77.60197786199996, -8.087755600999913], [-77.60167998699995, -8.088149975999954], [-77.60111998699995, -8.088159850999887], [-77.600568362, -8.08796285099993], [-77.59895311199989, -8.087693350999928], [-77.59746673699993, -8.087702975999946], [-77.5970488609999, -8.087787100999947], [-77.59664261199998, -8.087998100999926], [-77.59609961199999, -8.08815435199989], [-77.59442386199999, -8.088310601999922], [-77.59375386099998, -8.088421850999907], [-77.59137298699994, -8.089035100999922], [-77.59038473699991, -8.089220725999837], [-77.58981448699996, -8.089197226999943], [-77.58881448699992, -8.088996100999964], [-77.58740036199998, -8.088941350999903], [-77.58540623699992, -8.089162100999943], [-77.5848458619999, -8.089183600999945], [-77.58331448699994, -8.089447225999947], [-77.58226336199994, -8.089563475999967], [-77.58005423699996, -8.089933725999856], [-77.57711823699992, -8.090323475999924], [-77.57459798699995, -8.091103101999977], [-77.57298698699998, -8.092245975999958], [-77.57153198699984, -8.092687850999937], [-77.57051173699989, -8.092492225999877], [-77.57020698699989, -8.091648600999974], [-77.57041473699996, -8.090349600999957], [-77.57064861199996, -8.08889447599995], [-77.57072661199999, -8.088088851999885], [-77.57065973699997, -8.087260225999955], [-77.56935236199996, -8.085430225999914], [-77.56721298599996, -8.083647350999911], [-77.56485061199999, -8.081953601999942], [-77.56266648699994, -8.080571850999831], [-77.56114773599995, -8.07977010199994], [-77.56000098699991, -8.078432225999961], [-77.5591847369999, -8.077269725999884], [-77.55856636199997, -8.076181350999889], [-77.55817286199994, -8.075423600999898], [-77.55760936099995, -8.07432472599993], [-77.55668636199994, -8.07299035199992], [-77.55582048699989, -8.071901975999936], [-77.5547569869999, -8.070516725999823], [-77.5541632369999, -8.069453100999908], [-77.55357023599987, -8.068812851999951], [-77.55293123699994, -8.068573975999925], [-77.55161548599995, -8.068488350999928], [-77.55037873699996, -8.068315226999914], [-77.54884498699994, -8.068067725999981], [-77.54686611099999, -8.067276350999919], [-77.5455929869999, -8.066919600999825], [-77.54412248699992, -8.06644172599988], [-77.5429864859999, -8.066244475999895], [-77.54164073699985, -8.066173725999931], [-77.53956236199991, -8.066064350999909], [-77.53800186199993, -8.06598222599996], [-77.53625548699995, -8.065890225999908], [-77.53315948699992, -8.066397725999877], [-77.53106461199997, -8.067021850999936], [-77.52745436199996, -8.066932601999895], [-77.52354936199998, -8.066061225999931], [-77.52200336099997, -8.06599935099996], [-77.52002448699994, -8.065442725999901], [-77.51875698699996, -8.065099850999957], [-77.51741523699997, -8.064621975999955], [-77.51597398599989, -8.06432960099994], [-77.51362423699999, -8.064043850999894], [-77.51138986199993, -8.063198350999926], [-77.50933661099998, -8.063077600999975], [-77.5082494859999, -8.062654725999892], [-77.50740411199996, -8.061145100999966], [-77.50710211199998, -8.05679697599993], [-77.5075852359999, -8.05407947599997], [-77.50862111099991, -8.050873101999969], [-77.50787111199986, -8.051365225999973], [-77.50683198699994, -8.051894475999973], [-77.50607423699995, -8.052568350999877], [-77.50473236199997, -8.05407622599995], [-77.50396873699998, -8.055183600999896], [-77.50264436199996, -8.056646475999969], [-77.50208786199988, -8.057671851999828], [-77.50176361199988, -8.057917975999942], [-77.50117773599999, -8.058554725999954], [-77.5008086119999, -8.058917976999965], [-77.49999611199985, -8.059664100999896], [-77.49957036199999, -8.05986910099989], [-77.49913086199984, -8.060189475999948], [-77.49860161099991, -8.060703100999888], [-77.49840623599994, -8.06097660099988], [-77.49806623599994, -8.06159397599987], [-77.49722848699992, -8.06311522599998], [-77.49672661199997, -8.063730600999918], [-77.49612786199998, -8.064275350999878], [-77.49568548599996, -8.064677725999957], [-77.49494336199996, -8.065675725999938], [-77.49444536199996, -8.066119100999913], [-77.4940273609999, -8.066415975999973], [-77.49372073599994, -8.06647847599993], [-77.49297461099991, -8.066835975999936], [-77.49212698599996, -8.066986350999912]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "CHILLIA", "CODCCPP": "0001", "DEPARTAMEN": "LA LIBERTAD", "DISTRITO": "CHILLIA", "FUENTE": "INEI", "IDDIST": "130803", "IDDPTO": "13", "IDPROV": "1308", "PROVINCIA": "PATAZ"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_0c203ba65c7f4b5f7162a7ff8fd420a9.addTo(feature_group_2ab7464072b317b7b063a8c13fb756b7);
        
    
            feature_group_2ab7464072b317b7b063a8c13fb756b7.addTo(map_efdb1fc4975177d4a939e38a0d008e40);
        
    
            var feature_group_4ec0f94d966505d5532ed8423e914ce1 = L.featureGroup(
                {
}
            );
        
    
            var circle_f768742127b6199c2fc1f23e864572bf = L.circle(
                [-8.1244859, -77.5145555],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_4ec0f94d966505d5532ed8423e914ce1);
        
    
            var circle_ee839ab997c0b1914a6e198c98fb9cf7 = L.circle(
                [-8.1249505, -77.51472],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_4ec0f94d966505d5532ed8423e914ce1);
        
    
            feature_group_4ec0f94d966505d5532ed8423e914ce1.addTo(map_efdb1fc4975177d4a939e38a0d008e40);
        
    
            var feature_group_22151a65f2211eb2d003a8f61140d65e = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_72921c2b44b236f1c39e57bff6e205a1 = L.circleMarker(
                [-8.1244859, -77.5145555],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_22151a65f2211eb2d003a8f61140d65e);
        
    
        var popup_09a7fc2f4e2f4c4f3b3d54d7ca2f67ab = L.popup({
  "maxWidth": 460,
});

        
            
                var html_612c4c85e9d956c7c3185faa3e0c1afc = $(`<div id="html_612c4c85e9d956c7c3185faa3e0c1afc" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-538039</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.1244859</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-77.5145555</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Jr. Comercio / Jr. C√©sar Vallejo</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_09a7fc2f4e2f4c4f3b3d54d7ca2f67ab.setContent(html_612c4c85e9d956c7c3185faa3e0c1afc);
            
        

        circle_marker_72921c2b44b236f1c39e57bff6e205a1.bindPopup(popup_09a7fc2f4e2f4c4f3b3d54d7ca2f67ab)
        ;

        
    
    
            circle_marker_72921c2b44b236f1c39e57bff6e205a1.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_e9141476a9e4ef81b95c5fc15b9a8837 = L.circleMarker(
                [-8.1249505, -77.51472],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_22151a65f2211eb2d003a8f61140d65e);
        
    
        var popup_3b3f3edfb193b39ec1e6a149b13f508a = L.popup({
  "maxWidth": 460,
});

        
            
                var html_c6eb2282a5e99cc754b35801aac8a464 = $(`<div id="html_c6eb2282a5e99cc754b35801aac8a464" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-538042</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-8.1249505</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-77.51472</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Jr. Comercio / Jr. Cruz Blanca</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_3b3f3edfb193b39ec1e6a149b13f508a.setContent(html_c6eb2282a5e99cc754b35801aac8a464);
            
        

        circle_marker_e9141476a9e4ef81b95c5fc15b9a8837.bindPopup(popup_3b3f3edfb193b39ec1e6a149b13f508a)
        ;

        
    
    
            circle_marker_e9141476a9e4ef81b95c5fc15b9a8837.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_22151a65f2211eb2d003a8f61140d65e.addTo(map_efdb1fc4975177d4a939e38a0d008e40);
        
    
            var feature_group_d1bfb7e99b112417faaf9bbe98aa646c = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_8215dd05fb2ce74fad14a7f0e8a36cdc = L.circleMarker(
                [-8.124813, -77.51463],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_d1bfb7e99b112417faaf9bbe98aa646c);
        
    
        var popup_45394aeede34ce38c97f5d130a243a03 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_4b25d54e71c7f5ad049d3c64587dbb50 = $(`<div id="html_4b25d54e71c7f5ad049d3c64587dbb50" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-10-47</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>21/10/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>10:00</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>JIRON COMERCIO S/N PLAZA DE ARMAS DE CHILLIA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-8.124813</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-77.51463</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL PEAT√ìN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>OTRO (IMPRUDENCIA DEL PEAT√ìN)</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'>USO INDEBIDO DE LA VIA, AL JUGAR DENTRO DE LA CALZADA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'></td></tr></table></div></div>`)[0];
                popup_45394aeede34ce38c97f5d130a243a03.setContent(html_4b25d54e71c7f5ad049d3c64587dbb50);
            
        

        circle_marker_8215dd05fb2ce74fad14a7f0e8a36cdc.bindPopup(popup_45394aeede34ce38c97f5d130a243a03)
        ;

        
    
    
            feature_group_d1bfb7e99b112417faaf9bbe98aa646c.addTo(map_efdb1fc4975177d4a939e38a0d008e40);
        
    
            map_efdb1fc4975177d4a939e38a0d008e40.fitBounds(
                [[-8.1244859, -77.5145555], [-8.1249505, -77.51472]],
                {}
            );
        
    
            var layer_control_78d091cc148f6512113506cf10ba08ed_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_5c0dbd722d9209e4883deb9362d2bf52,
                },
                overlays :  {
                    "contorno" : feature_group_2ab7464072b317b7b063a8c13fb756b7,
                    "intersecciones: buffers (50m)" : feature_group_4ec0f94d966505d5532ed8423e914ce1,
                    "intersecciones: puntos" : feature_group_22151a65f2211eb2d003a8f61140d65e,
                    "siniestros fatales" : feature_group_d1bfb7e99b112417faaf9bbe98aa646c,
                },
            };
            let layer_control_78d091cc148f6512113506cf10ba08ed = L.control.layers(
                layer_control_78d091cc148f6512113506cf10ba08ed_layers.base_layers,
                layer_control_78d091cc148f6512113506cf10ba08ed_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_efdb1fc4975177d4a939e38a0d008e40);

        
    
        feature_group_22151a65f2211eb2d003a8f61140d65e.bringToFront();
        feature_group_d1bfb7e99b112417faaf9bbe98aa646c.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_22151a65f2211eb2d003a8f61140d65e;
        var defaultColor = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              ly.setStyle({ color: defaultColor, fillColor: defaultColor });
            });
          }

          // ---------- B√∫squeda ----------
          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly); // "nombre | codigo"
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }

          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>