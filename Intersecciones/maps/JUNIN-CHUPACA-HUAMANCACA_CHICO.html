<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_bbcd3515061d09e02cc300b9af53da11 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }

      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;
        z-index: 10000; background: rgba(255,255,255,0.95);
        border: 1px solid #e5e7eb;
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display: flex; flex-direction: column; gap: 8px; min-width: 300px; max-width: 92vw;
      }

      .searchbar-header { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
      .searchbar-title { font-weight: 700; font-size: 14px; color: #111827; }
      .toggle-btn { border: 0; border-radius: 8px; padding: 4px 10px; font-weight: 700; cursor: pointer; background: #111827; color: #fff; }
      .tools-body { display: flex; flex-direction: column; gap: 8px; }

      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input { border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1; }
      .row-flex button, .col-flex button { border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer; }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .dist-on-line { background: rgba(17,24,39,0.85); color: #fff; padding: 2px 6px; border-radius: 6px; font-size: 12px; border: 1px solid rgba(255,255,255,0.2); }

      .searchbar-wrap.collapsed { padding: 8px 10px; }
      .searchbar-wrap.collapsed .tools-body { display: none; }

      @media (max-width: 480px) {
        .searchbar-wrap { right: 12px; bottom: 12px; min-width: 240px; }
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        JUNIN-CHUPACA-HUAMANCACA_CHICO
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Intersecci√≥n priorizada</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:6px;">
            <span style="display:inline-block; width:14px; height:14px; background:#f59e0b; border-radius:50%;"></span>
            <span>Amarillo: Coincidencia de b√∫squeda</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_bbcd3515061d09e02cc300b9af53da11" ></div>
        
    
      <div class="searchbar-wrap" id="zs_tools">
        <div class="searchbar-header">
          <div class="searchbar-title">Herramientas</div>
          <button id="btn_toggle_box" class="toggle-btn" title="Mostrar/Ocultar">‚ØÜ Ocultar</button>
        </div>

        <div class="tools-body">
          <div class="col-flex">
            <input id="q_name" type="text" placeholder="Buscar por nombre">
            <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
          </div>
          <div class="row-flex">
            <button id="btn_search" class="btn-dark">Buscar</button>
            <button id="btn_clear" class="btn-gray">Limpiar</button>
          </div>

          <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">

          <div class="col-flex" title="Coordenadas en grados decimales">
            <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
            <div class="row-flex">
              <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
              <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
              <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
            </div>
          </div>

          <div class="row-flex">
            <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
            <span id="measure_state" style="font-size:12px; color:#991b1b">Desactivado</span>
          </div>

          <div class="row-flex">
            <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
          </div>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_bbcd3515061d09e02cc300b9af53da11 = L.map(
                "map_bbcd3515061d09e02cc300b9af53da11",
                {
                    center: [-12.081077871428572, -75.24629118571428],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_bbcd3515061d09e02cc300b9af53da11);

            

        
    
            var tile_layer_01515a224e56f224b184d694e93164f1 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_01515a224e56f224b184d694e93164f1.addTo(map_bbcd3515061d09e02cc300b9af53da11);
        
    
            var feature_group_7f948acd7838f2b362ac1703eb8640e2 = L.featureGroup(
                {
}
            );
        
    
        function geo_json_9b75ce6ccfc4b1fe6149950928529ad1_styler(feature) {
            switch(feature.properties.IDDPTO) {
                default:
                    return {"color": "#222222", "fill": true, "fillColor": "#9ca3af", "fillOpacity": 0.3, "opacity": 1.0, "weight": 2.5};
            }
        }

        function geo_json_9b75ce6ccfc4b1fe6149950928529ad1_onEachFeature(feature, layer) {

            layer.on({
            });
        };
        var geo_json_9b75ce6ccfc4b1fe6149950928529ad1 = L.geoJson(null, {
                onEachFeature: geo_json_9b75ce6ccfc4b1fe6149950928529ad1_onEachFeature,
            
                style: geo_json_9b75ce6ccfc4b1fe6149950928529ad1_styler,
            ...{
}
        });

        function geo_json_9b75ce6ccfc4b1fe6149950928529ad1_add (data) {
            geo_json_9b75ce6ccfc4b1fe6149950928529ad1
                .addData(data);
        }
            geo_json_9b75ce6ccfc4b1fe6149950928529ad1_add({"features": [{"geometry": {"coordinates": [[[[-75.25212398399998, -12.061317354999915], [-75.25141998499998, -12.0614299799999], [-75.25039998399996, -12.061369978999949], [-75.24932998399998, -12.062079979999965], [-75.24813998399992, -12.06238997999992], [-75.24680998399992, -12.062579979999953], [-75.24530860999994, -12.062990228999979], [-75.24465998499994, -12.06311085499982], [-75.24366473399994, -12.063140104999945], [-75.24258998499988, -12.063289979999979], [-75.24172998399996, -12.06340997999996], [-75.24133998399998, -12.063559979999923], [-75.24098998399995, -12.063529979999942], [-75.24052998499997, -12.063329979999935], [-75.2400899839999, -12.063249979999966], [-75.23959373399998, -12.063045854999928], [-75.23878623499996, -12.063067104999902], [-75.2378946099999, -12.06642297999997], [-75.23766635999993, -12.067563479999876], [-75.23725210999993, -12.068808354999874], [-75.23696648499993, -12.069236604999958], [-75.23615748399999, -12.069569729999898], [-75.23591823499999, -12.069954104999908], [-75.2356298599999, -12.070377729999962], [-75.23562085999998, -12.070611979999967], [-75.23583710899999, -12.071341979999886], [-75.23598135899994, -12.071765479999954], [-75.23597235999995, -12.072261229999924], [-75.23590635999994, -12.072996854999928], [-75.23549223399988, -12.075668104999977], [-75.23385635999989, -12.079951229999892], [-75.2326369839999, -12.08664347999985], [-75.23222048399998, -12.087654604999955], [-75.23223898399993, -12.087888229999976], [-75.23270098499995, -12.088483354999937], [-75.23274185899999, -12.08900672999988], [-75.23258810999994, -12.090350979999926], [-75.23247510899995, -12.09091535499988], [-75.23195085899988, -12.09232247999995], [-75.23189010899995, -12.092485354999951], [-75.23177723499998, -12.093542354999897], [-75.23194148499994, -12.094075979999843], [-75.23178748399988, -12.095214979999923], [-75.23183887199997, -12.09562602099993], [-75.23998500999994, -12.094863683999904], [-75.24566448799999, -12.09433203999987], [-75.24613132999991, -12.094358424999939], [-75.24677148399996, -12.094405101999882], [-75.24768749599997, -12.09447189199983], [-75.2494964789999, -12.094539182999881], [-75.24976101999994, -12.094550429999913], [-75.25000604599995, -12.094492784999943], [-75.25124313899983, -12.094518467999933], [-75.25162858199991, -12.094858838999869], [-75.25312168799991, -12.09492463099997], [-75.25455148499998, -12.095083728999896], [-75.25521970999995, -12.094851479999875], [-75.25593332799991, -12.094614584999931], [-75.2559039489999, -12.094946813999968], [-75.2569699579999, -12.095056850999981], [-75.25697007499991, -12.095179356999836], [-75.25735293599996, -12.095237321999832], [-75.25882984299994, -12.09546092599993], [-75.25895713599994, -12.095753383999977], [-75.26018085299984, -12.096021178999933], [-75.26099823499999, -12.096255742999972], [-75.26121059999997, -12.09557492099998], [-75.26138526599993, -12.095172783999885], [-75.26159109899999, -12.094816557999934], [-75.26166919999997, -12.09472345599994], [-75.26173530099993, -12.094690852999918], [-75.26179946799994, -12.094669736999947], [-75.26187724899995, -12.094646693999891], [-75.26192194999999, -12.094610282999895], [-75.26199771799998, -12.09451833199995], [-75.26211625799993, -12.094405284999823], [-75.26226790599992, -12.094336231999876], [-75.26239311299992, -12.094301089999817], [-75.26247012999988, -12.09427064099998], [-75.26256638599995, -12.094244708999952], [-75.26265100199993, -12.094250370999873], [-75.26273856699999, -12.094287614999928], [-75.26282610099986, -12.094293273999881], [-75.26293694399999, -12.094267327999944], [-75.26309736199994, -12.094215493999911], [-75.26332195599991, -12.09415211399994], [-75.26365439699998, -12.09398239599983], [-75.26383657599996, -12.093807077999884], [-75.26422702699995, -12.09328988499982], [-75.26450526499997, -12.09288834199998], [-75.26444201199996, -12.092356529999961], [-75.26440734899995, -12.091720105999968], [-75.26440225099998, -12.091480840999964], [-75.26453302799996, -12.090958151999871], [-75.26457560499995, -12.090739897999924], [-75.26456770799996, -12.090621226999815], [-75.26466853799997, -12.090303381999888], [-75.26470341699991, -12.09016935699998], [-75.26468625799993, -12.090048592999949], [-75.2649694299999, -12.088330106999933], [-75.26472343199998, -12.088356185999885], [-75.26474973599994, -12.088248544999942], [-75.26530944099989, -12.085958145999882], [-75.2649981489999, -12.085867519999965], [-75.26515027399995, -12.08534566499992], [-75.26521248999995, -12.085275521999904], [-75.26560325799994, -12.084108470999979], [-75.26575369799997, -12.083806846999892], [-75.26576095699994, -12.08379843199998], [-75.26619567899996, -12.083294387999956], [-75.26670572299997, -12.082772290999912], [-75.26752465299995, -12.081883335999976], [-75.26787558999996, -12.081508717999895], [-75.26558665099998, -12.08107358999996], [-75.26518982299996, -12.081020372999888], [-75.26475412599996, -12.080973892999964], [-75.26419389099988, -12.080914127999904], [-75.26076235499988, -12.08029717799991], [-75.26075294599991, -12.080195171999947], [-75.26117300399994, -12.07855873699998], [-75.26151693799989, -12.07722328899996], [-75.26167227399998, -12.076955160999887], [-75.26185185099996, -12.076615228999913], [-75.26189061999997, -12.076481200999922], [-75.26192422899993, -12.076040912999929], [-75.26192401999998, -12.07582556999995], [-75.26193326699996, -12.075012280999886], [-75.25812502999997, -12.073419831999956], [-75.25808390899988, -12.07312987499995], [-75.25802544899994, -12.073012207999966], [-75.25796692799997, -12.072831373999918], [-75.25791425599988, -12.072664890999931], [-75.25773894499991, -12.072383671999944], [-75.25771553199996, -12.072306169999933], [-75.25772733199994, -12.071984422999947], [-75.25773259099992, -12.071841013999972], [-75.25774116499997, -12.07165437499998], [-75.25774102999992, -12.071513683999967], [-75.25773209199997, -12.071318447999886], [-75.25774040199997, -12.070856170999946], [-75.2577986469999, -12.070749880999927], [-75.25789187099997, -12.070611974999963], [-75.25796754099991, -12.070422402999839], [-75.25800822999992, -12.07026157599995], [-75.25805761599992, -12.070043315999897], [-75.25809250599997, -12.069919820999928], [-75.25802779399993, -12.069365730999891], [-75.25800109299996, -12.068900614999961], [-75.25799501099988, -12.068642208999961], [-75.25800626299986, -12.068205769999906], [-75.25803237899999, -12.068059312999878], [-75.25806726599984, -12.067932945999928], [-75.2581078529999, -12.067665882999847], [-75.25811349199995, -12.067462019999937], [-75.25807252099992, -12.067327108999962], [-75.25801105099998, -12.067111822999834], [-75.25801354599992, -12.066669649999938], [-75.25801616599995, -12.066359552999927], [-75.25785565399991, -12.066296534999879], [-75.25783810899998, -12.06625348199998], [-75.25782541399997, -12.065179649999948], [-75.25781649999988, -12.065010254999947], [-75.25778434699998, -12.064944245999982], [-75.25779301299997, -12.064855229999978], [-75.25783940999997, -12.064562319999936], [-75.25788283699995, -12.064214859999936], [-75.25796133199998, -12.063930533999951], [-75.25801362099992, -12.063697914999977], [-75.25804839799997, -12.063456698999914], [-75.25806284899994, -12.063315994999925], [-75.25814207399998, -12.063286729999959], [-75.25851150599993, -12.063193071999933], [-75.25898791299988, -12.063108884999906], [-75.25924070899993, -12.063072759999955], [-75.25954694899997, -12.062995907999891], [-75.25985557299992, -12.062871199999961], [-75.25991121499999, -12.062832921999927], [-75.26035360999998, -12.062528578999945], [-75.26046689299994, -12.062435641999969], [-75.260613, -12.062315776999924], [-75.26064267599992, -12.062291430999949], [-75.26087108599984, -12.062178759999881], [-75.26121861699988, -12.062065977999964], [-75.26178735299999, -12.061931451999953], [-75.26235611099997, -12.061820852999915], [-75.26248979799993, -12.0617991929999], [-75.26274506699997, -12.061808522999968], [-75.26310092499995, -12.061759854999934], [-75.263573464, -12.061701982999864], [-75.26368427699998, -12.061500004999914], [-75.26389644799997, -12.060389740999824], [-75.26329998499989, -12.060209978999978], [-75.26279985899998, -12.060169979999955], [-75.26161998399988, -12.05989985499997], [-75.26080998499992, -12.059579979999967], [-75.26015998499997, -12.059159979999947], [-75.26002998499996, -12.059019979999903], [-75.25966998499985, -12.058899979999921], [-75.25926998399996, -12.058659979999959], [-75.2591964849999, -12.058628479999925], [-75.25891998499998, -12.058509979999883], [-75.25774998499998, -12.05835997999992], [-75.25719935999996, -12.058355479999818], [-75.25686160999999, -12.058352729999967], [-75.25652998399994, -12.0583499789999], [-75.25490998499998, -12.058279979999952], [-75.25451998399996, -12.058389978999912], [-75.25419985999997, -12.058589979999965], [-75.25403998399997, -12.058829979999928], [-75.25370998499983, -12.059779979999973], [-75.25348998499999, -12.060189979999905], [-75.25324998499997, -12.06053997999993], [-75.25283998499998, -12.0609799799999], [-75.25255760999994, -12.061119103999943], [-75.25216998399986, -12.061309979999919], [-75.25212398399998, -12.061317354999915]]]], "type": "MultiPolygon"}, "properties": {"AREA": 1, "CAPITAL": "HUAMANCACA CHICO", "CODCCPP": "0001", "DEPARTAMEN": "JUNIN", "DISTRITO": "HUAMANCACA CHICO", "FUENTE": "INEI", "IDDIST": "120905", "IDDPTO": "12", "IDPROV": "1209", "PROVINCIA": "CHUPACA"}, "type": "Feature"}], "type": "FeatureCollection"});

        
    
            geo_json_9b75ce6ccfc4b1fe6149950928529ad1.addTo(feature_group_7f948acd7838f2b362ac1703eb8640e2);
        
    
            feature_group_7f948acd7838f2b362ac1703eb8640e2.addTo(map_bbcd3515061d09e02cc300b9af53da11);
        
    
            var feature_group_f384269f30b7509f6562ce3ecfd754b5 = L.featureGroup(
                {
}
            );
        
    
            var circle_96b022973f63c282a049a513cdf1df55 = L.circle(
                [-12.079258, -75.248927],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_80a79a50aa2ce10fef8e88b24692fabf = L.circle(
                [-12.0793742, -75.2493987],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_6962685b1ed4fa365035d4e6bd326c31 = L.circle(
                [-12.0790839, -75.2494016],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_db5f3690f8b8869ae06c52cb6edcb2ea = L.circle(
                [-12.090657, -75.242003],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_e416bcaa385300cfae450e01878e98ce = L.circle(
                [-12.075186, -75.252892],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_f6b96f7a39aa3a0be4b0063ea0e1008e = L.circle(
                [-12.082409, -75.239193],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            var circle_d527a73e827b86d60deaf0609f9e1cf7 = L.circle(
                [-12.081577, -75.242223],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 50, "stroke": true, "weight": 2}
            ).addTo(feature_group_f384269f30b7509f6562ce3ecfd754b5);
        
    
            feature_group_f384269f30b7509f6562ce3ecfd754b5.addTo(map_bbcd3515061d09e02cc300b9af53da11);
        
    
            var feature_group_78d6940ce11f5dabe68992fb1f980a75 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_a35e5f9f2c6702c454de8da5a1917f51 = L.circleMarker(
                [-12.079258, -75.248927],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_3eff18f5a27ace4dbdcacf018acd8c77 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_420bdc8c867d6fff234cdf89f67c2cfd = $(`<div id="html_420bdc8c867d6fff234cdf89f67c2cfd" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-430333</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.079258</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.248927</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Jr. ANDREA ARAUJO S/N</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_3eff18f5a27ace4dbdcacf018acd8c77.setContent(html_420bdc8c867d6fff234cdf89f67c2cfd);
            
        

        circle_marker_a35e5f9f2c6702c454de8da5a1917f51.bindPopup(popup_3eff18f5a27ace4dbdcacf018acd8c77)
        ;

        
    
    
            circle_marker_a35e5f9f2c6702c454de8da5a1917f51.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_ad0debe0e6784dfa4962105a62858a42 = L.circleMarker(
                [-12.0793742, -75.2493987],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_112e1fa371b0c8b683495877b84fc141 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_0b5c104585258a2ae9a03696b74240b6 = $(`<div id="html_0b5c104585258a2ae9a03696b74240b6" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-430339</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.0793742</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.2493987</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_112e1fa371b0c8b683495877b84fc141.setContent(html_0b5c104585258a2ae9a03696b74240b6);
            
        

        circle_marker_ad0debe0e6784dfa4962105a62858a42.bindPopup(popup_112e1fa371b0c8b683495877b84fc141)
        ;

        
    
    
            circle_marker_ad0debe0e6784dfa4962105a62858a42.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_6f74b4156a5c69e1312420293e032987 = L.circleMarker(
                [-12.0790839, -75.2494016],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_eafb339d87a5ab8025ad359938497488 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_2caa0ca7e39ee636ddc609d02c893c17 = $(`<div id="html_2caa0ca7e39ee636ddc609d02c893c17" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-430340</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.0790839</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.2494016</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>-</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_eafb339d87a5ab8025ad359938497488.setContent(html_2caa0ca7e39ee636ddc609d02c893c17);
            
        

        circle_marker_6f74b4156a5c69e1312420293e032987.bindPopup(popup_eafb339d87a5ab8025ad359938497488)
        ;

        
    
    
            circle_marker_6f74b4156a5c69e1312420293e032987.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_1d031d2ef829022d68a370f71dcbcef5 = L.circleMarker(
                [-12.090657, -75.242003],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_c24ba1cfe07a53d38012985fce01af08 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_27ac3d3fbd710993ffb3f31303884c0e = $(`<div id="html_27ac3d3fbd710993ffb3f31303884c0e" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-249120</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.090657</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.242003</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Av. 28 de Julio y Av. Manco C√°pac</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_c24ba1cfe07a53d38012985fce01af08.setContent(html_27ac3d3fbd710993ffb3f31303884c0e);
            
        

        circle_marker_1d031d2ef829022d68a370f71dcbcef5.bindPopup(popup_c24ba1cfe07a53d38012985fce01af08)
        ;

        
    
    
            circle_marker_1d031d2ef829022d68a370f71dcbcef5.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_0542f607c48f452384d136cd2b8f9dac = L.circleMarker(
                [-12.075186, -75.252892],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_02ba1352b6733b8619885af8bb754332 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_66cbaffc1ccd0f34657f5be6e555902d = $(`<div id="html_66cbaffc1ccd0f34657f5be6e555902d" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-269381</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.075186</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.252892</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Av. Los H√©roes y Jr. Echenique</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_02ba1352b6733b8619885af8bb754332.setContent(html_66cbaffc1ccd0f34657f5be6e555902d);
            
        

        circle_marker_0542f607c48f452384d136cd2b8f9dac.bindPopup(popup_02ba1352b6733b8619885af8bb754332)
        ;

        
    
    
            circle_marker_0542f607c48f452384d136cd2b8f9dac.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_c87432319111a49a57662a7dbfa37110 = L.circleMarker(
                [-12.082409, -75.239193],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_aa4f888ce466316a336e96b6f2c8ac77 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_0814621691f1535a268350105bbc5b08 = $(`<div id="html_0814621691f1535a268350105bbc5b08" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-430308</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.082409</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.239193</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Av. M√°x Hongler y Jr. Progreso</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_aa4f888ce466316a336e96b6f2c8ac77.setContent(html_0814621691f1535a268350105bbc5b08);
            
        

        circle_marker_c87432319111a49a57662a7dbfa37110.bindPopup(popup_aa4f888ce466316a336e96b6f2c8ac77)
        ;

        
    
    
            circle_marker_c87432319111a49a57662a7dbfa37110.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_be44cbc1bbafaf3660f4743977295985 = L.circleMarker(
                [-12.081577, -75.242223],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_78d6940ce11f5dabe68992fb1f980a75);
        
    
        var popup_076f5fddc56e0587f381e8140640e073 = L.popup({
  "maxWidth": 460,
});

        
            
                var html_3e29d90434784198c98d615cc9e1f028 = $(`<div id="html_3e29d90434784198c98d615cc9e1f028" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Intersecci√≥n priorizada</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>id_int</th><td style='padding:2px 0;'>l-430326</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-12.081577</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-75.242223</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>vias</th><td style='padding:2px 0;'>Av. 28 de Julio y Jr. Mar√≠a Parado de Bellido</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestro_fatal</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_076f5fddc56e0587f381e8140640e073.setContent(html_3e29d90434784198c98d615cc9e1f028);
            
        

        circle_marker_be44cbc1bbafaf3660f4743977295985.bindPopup(popup_076f5fddc56e0587f381e8140640e073)
        ;

        
    
    
            circle_marker_be44cbc1bbafaf3660f4743977295985.bindTooltip(
                `<div>
                      | 
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_78d6940ce11f5dabe68992fb1f980a75.addTo(map_bbcd3515061d09e02cc300b9af53da11);
        
    
            var feature_group_f5425a207c0dd129140f875ef7c655e4 = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_81a64d12be31fff600f4c92e244787b7 = L.circleMarker(
                [-12.07933, -75.24921],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_f5425a207c0dd129140f875ef7c655e4);
        
    
        var popup_57fe0bb271d316d5301049e76d9bb099 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_98705aaf01e5c4e7f96254b0589d64d2 = $(`<div id="html_98705aaf01e5c4e7f96254b0589d64d2" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2021-07-50</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>07/07/2021</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>07:20</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>JIRON ANDREA ARAUJO S/N - CHUPACA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-12.07933</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-75.24921</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>IMPRUDENCIA DEL CONDUCTOR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'>VEH√çCULO MAL ESTACIONADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>NINGUNA</td></tr></table></div></div>`)[0];
                popup_57fe0bb271d316d5301049e76d9bb099.setContent(html_98705aaf01e5c4e7f96254b0589d64d2);
            
        

        circle_marker_81a64d12be31fff600f4c92e244787b7.bindPopup(popup_57fe0bb271d316d5301049e76d9bb099)
        ;

        
    
    
            var circle_marker_598e9699791cdf97dea8e6dc30123ecf = L.circleMarker(
                [-12.0752316, -75.2516937],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_f5425a207c0dd129140f875ef7c655e4);
        
    
        var popup_43b8156664bf010d1c7022f9eb328674 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_18ad7c9aea2c92ceace06408a7e1c629 = $(`<div id="html_18ad7c9aea2c92ceace06408a7e1c629" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-04-161</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>19/04/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>18:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. LOS HEROES CDRA 11</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'>FRONTIS DEL ESTABLECIMIENTO VILLANES CHICKEN</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-12.0752316</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-75.2516937</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>FALTA DE UNO DE LOS ELEMENTOS DE TRANSITO NO PERMITE DETERMINAR FEHACIENTEMENTE LAS CAUSAS</td></tr></table></div></div>`)[0];
                popup_43b8156664bf010d1c7022f9eb328674.setContent(html_18ad7c9aea2c92ceace06408a7e1c629);
            
        

        circle_marker_598e9699791cdf97dea8e6dc30123ecf.bindPopup(popup_43b8156664bf010d1c7022f9eb328674)
        ;

        
    
    
            var circle_marker_347a2dc1df418cef9b9780e110fd74c3 = L.circleMarker(
                [-12.08168, -75.24747],
                {"bubblingMouseEvents": true, "color": "#d90429", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#d90429", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_f5425a207c0dd129140f875ef7c655e4);
        
    
        var popup_eaa3b495e6b434d577e8d26909d21f56 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_5d5919d43bef7c7aa48843cc687b32cb = $(`<div id="html_5d5919d43bef7c7aa48843cc687b32cb" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Siniestro fatal</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>COD_ACCIDE</th><td style='padding:2px 0;'>A-2023-07-164</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>FechaDelAccidente</th><td style='padding:2px 0;'>18/07/2023</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>HoraDelAccidente</th><td style='padding:2px 0;'>18:30</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>ClaseDelAccidente</th><td style='padding:2px 0;'>ATROPELLO FUGA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>SecuenciaAccidente</th><td style='padding:2px 0;'>CHOQUE</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeFallecidos</th><td style='padding:2px 0;'>1</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CantidadDeLesionados</th><td style='padding:2px 0;'>0</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Direccion</th><td style='padding:2px 0;'>AV. 9 DE OCTUBRE INTERSECCION CON EL JR. MARIA PARADO DE BELLIDO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>LugarReferencia</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>y</th><td style='padding:2px 0;'>-12.08168</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>x</th><td style='padding:2px 0;'>-75.24747</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CondClimatica</th><td style='padding:2px 0;'>DESPEJADO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaFactorPrincipal</th><td style='padding:2px 0;'>NO IDENTIFICA LA CAUSA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>CausaEspecifica</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>OtraCausa</th><td style='padding:2px 0;'></td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>Observaciones</th><td style='padding:2px 0;'>LA FALTA DE UNO DE LOS ELEMENTOS DE TRASITO PARTICIUPANTE NO PERMITE DETERMINAR FEHACIENTEMENTE LAS CAUSAS QUE MOTIVARON LA PRODUCCION DEL SUSCESO</td></tr></table></div></div>`)[0];
                popup_eaa3b495e6b434d577e8d26909d21f56.setContent(html_5d5919d43bef7c7aa48843cc687b32cb);
            
        

        circle_marker_347a2dc1df418cef9b9780e110fd74c3.bindPopup(popup_eaa3b495e6b434d577e8d26909d21f56)
        ;

        
    
    
            feature_group_f5425a207c0dd129140f875ef7c655e4.addTo(map_bbcd3515061d09e02cc300b9af53da11);
        
    
            map_bbcd3515061d09e02cc300b9af53da11.fitBounds(
                [[-12.079258, -75.248927], [-12.0793742, -75.2493987], [-12.0790839, -75.2494016], [-12.090657, -75.242003], [-12.075186, -75.252892], [-12.082409, -75.239193], [-12.081577, -75.242223]],
                {}
            );
        
    
            var layer_control_0b76a979bd94e74d003eb839d87af535_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_01515a224e56f224b184d694e93164f1,
                },
                overlays :  {
                    "contorno" : feature_group_7f948acd7838f2b362ac1703eb8640e2,
                    "intersecciones: buffers (50m)" : feature_group_f384269f30b7509f6562ce3ecfd754b5,
                    "intersecciones: puntos" : feature_group_78d6940ce11f5dabe68992fb1f980a75,
                    "siniestros fatales" : feature_group_f5425a207c0dd129140f875ef7c655e4,
                },
            };
            let layer_control_0b76a979bd94e74d003eb839d87af535 = L.control.layers(
                layer_control_0b76a979bd94e74d003eb839d87af535_layers.base_layers,
                layer_control_0b76a979bd94e74d003eb839d87af535_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_bbcd3515061d09e02cc300b9af53da11);

        
    
        feature_group_78d6940ce11f5dabe68992fb1f980a75.bringToFront();
        feature_group_f5425a207c0dd129140f875ef7c655e4.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_78d6940ce11f5dabe68992fb1f980a75;
        var defaultColor = '#1d4ed8';
        var hiliteColor  = '#f59e0b';

        // ---------- Toggle colapsar/expandir ----------
        var box = document.getElementById('zs_tools');
        var btnToggle = document.getElementById('btn_toggle_box');
        var saved = null;
        try { saved = localStorage.getItem('zs_tools_collapsed'); } catch(e) {}
        if (saved === '1') {
          box.classList.add('collapsed');
          btnToggle.textContent = '‚Øà Mostrar';
        }
        function toggleBox() {
          var collapsed = box.classList.toggle('collapsed');
          btnToggle.textContent = collapsed ? '‚Øà Mostrar' : '‚ØÜ Ocultar';
          try { localStorage.setItem('zs_tools_collapsed', collapsed ? '1' : '0'); } catch(e) {}
        }
        btnToggle.addEventListener('click', toggleBox);

        // ---------- Esperar a que el mapa est√© disponible ----------
        var ly_map = null;
        function ensureMap(cb) {
          var tries = 0;
          (function wait() {
            ly_map = (puntosLayer && puntosLayer._map) ? puntosLayer._map : null;
            if (ly_map) { cb(); return; }
            if (tries++ < 80) { setTimeout(wait, 50); }
          })();
        }

        ensureMap(function initTools() {
          // ---------- Utilidades ----------
          function eachMarker(fn) {
            if (!puntosLayer || !puntosLayer._layers) return;
            Object.values(puntosLayer._layers).forEach(function(ly) {
              if (ly && typeof ly.setStyle === 'function') fn(ly);
            });
          }

          function getTooltipText(ly) {
            try {
              var t = ly.getTooltip();
              return t ? String(t.getContent() || '').toLowerCase() : '';
            } catch(e) { return ''; }
          }

          function clearHighlights() {
            eachMarker(function(ly) {
              ly.setStyle({ color: defaultColor, fillColor: defaultColor });
            });
          }

          // ---------- B√∫squeda ----------
          function searchAndHighlight() {
            var qn_raw = (document.getElementById('q_name').value || '');
            var qc_raw = (document.getElementById('q_code').value || '');
            var qn = qn_raw.toLowerCase();
            var qc = qc_raw.toLowerCase();

            var useName = qn_raw.trim().length > 0;
            var useCode = qc_raw.trim().length > 0;

            clearHighlights();
            if (!useName && !useCode) return;

            var matchedLatLngs = [];
            eachMarker(function(ly) {
              var txt = getTooltipText(ly); // "nombre | codigo"
              var parts = txt.split('|', 2);
              var nameTxt = (parts[0] || '').trim();
              var codeTxt = (parts[1] || '').trim();

              var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
              var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

              if (matchName || matchCode) {
                ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
                if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
              }
            });

            if (matchedLatLngs.length > 0) {
              var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
              try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
            }
          }

          document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
          document.getElementById('btn_clear').addEventListener('click', function() {
            document.getElementById('q_name').value = '';
            document.getElementById('q_code').value = '';
            clearHighlights();
          });
          ['q_name','q_code'].forEach(function(id) {
            var el = document.getElementById(id);
            el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
          });

          // ---------- Pin por coordenadas ----------
          var coordLayer = L.layerGroup().addTo(ly_map);
          function goToXY() {
            var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
            var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
            if (!isFinite(x) || !isFinite(y)) return;
            coordLayer.clearLayers();
            var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
            mk.addTo(coordLayer);
            ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
          }
          function clearXY() { coordLayer.clearLayers(); }
          document.getElementById('btn_xy_go').addEventListener('click', goToXY);
          document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

          // ---------- Medici√≥n ----------
          var measuring = false;
          var mA = null, mB = null, mLine = null;

          function haversine(lat1, lon1, lat2, lon2) {
            var R = 6371000;
            var dLat = (lat2-lat1) * Math.PI/180;
            var dLon = (lon2-lon1) * Math.PI/180;
            var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                    Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                    Math.sin(dLon/2)*Math.sin(dLon/2);
            var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
            return R * c;
          }

          function updateMeasure() {
            if (!(mA && mB)) return;
            var a = mA.getLatLng(), b = mB.getLatLng();
            var d = haversine(a.lat, a.lng, b.lat, b.lng);
            var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

            if (!mLine) {
              mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
                .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
                .addTo(ly_map);
            } else {
              mLine.setLatLngs([a, b]);
              mLine.setTooltipContent(txt);
            }
          }

          function clearMeasure() {
            if (mA) ly_map.removeLayer(mA); mA = null;
            if (mB) ly_map.removeLayer(mB); mB = null;
            if (mLine) ly_map.removeLayer(mLine); mLine = null;
          }

          function toggleMeasure() {
            measuring = !measuring;
            var stateSpan = document.getElementById('measure_state');
            stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
            stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
            if (!measuring) {
              clearMeasure();
              ly_map.getContainer().style.cursor = '';
              return;
            }
            ly_map.getContainer().style.cursor = 'crosshair';
          }

          document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

          ly_map.on('click', function(ev) {
            if (!measuring) return;
            if (!mA) {
              mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
              mA.on('drag', updateMeasure);
            } else if (!mB) {
              mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
              mB.on('drag', updateMeasure);
            } else {
              mB.setLatLng(ev.latlng);
            }
            updateMeasure();
          });

          // ---------- Abrir vista actual en Google Maps ----------
          function openInGoogleMaps() {
            var c = ly_map.getCenter();
            var z = ly_map.getZoom();
            var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
            window.open(url, '_blank');
          }
          document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);
        });
      })();
    
</script>
</html>