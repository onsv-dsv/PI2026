<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_6d448bef4c214209dbf473b3d4e4b0f5 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
</head>
<body>
    
    
    <style>
      .leaflet-interactive.zs-buffer { pointer-events: none !important; }
      .searchbar-wrap {
        position: fixed; right: 20px; bottom: 140px;  /* encima de la leyenda */
        z-index: 10000; background: rgba(255,255,255,0.95);
        padding: 10px; border-radius: 10px; box-shadow: 0 2px 8px rgba(0,0,0,0.12);
        font-family: system-ui,-apple-system,'Segoe UI',Roboto,Arial,sans-serif;
        display:flex; flex-direction: column; gap:8px; min-width: 300px;
      }
      .row-flex { display:flex; gap:8px; align-items:center; }
      .col-flex { display:flex; flex-direction:column; gap:8px; }
      .row-flex input, .col-flex input {
        border:1px solid #e5e7eb; border-radius:8px; padding:6px 8px; font-size:13px; flex:1;
      }
      .row-flex button, .col-flex button {
        border:0; border-radius:8px; padding:6px 10px; font-weight:600; cursor:pointer;
      }
      .btn-dark  { background:#111827; color:#fff; }
      .btn-gray  { background:#6b7280; color:#fff; }
      .btn-green { background:#065f46; color:#fff; }
      .btn-red   { background:#991b1b; color:#fff; }
      .pill { font-size:12px; padding:4px 8px; border-radius:999px; }
      .hint { font-size:12px; color:#374151; }
      .dist-on-line {
        background: rgba(17,24,39,0.85);
        color: #fff;
        padding: 2px 6px;
        border-radius: 6px;
        font-size: 12px;
        border: 1px solid rgba(255,255,255,0.2);
      }
    </style>
    
    
    <div style="
        position: fixed; top: 10px; left: 50%; transform: translateX(-50%);
        z-index: 9999; background: rgba(255,255,255,0.9);
        padding: 8px 14px; border-radius: 8px; font-weight: 600;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;">
        MOQUEGUA-ILO-ILO
    </div>
    
    
    <div id="legend-box" style="
        position: fixed; bottom: 20px; right: 20px; z-index: 9999;
        background: rgba(255,255,255,0.9); padding: 10px 12px; border-radius: 8px;
        font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif;
        box-shadow: 0 2px 6px rgba(0,0,0,0.15); line-height: 1.4; min-width: 240px;">
        <div style="font-weight: 600; margin-bottom: 6px;">Leyenda</div>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:4px;">
            <span style="display:inline-block; width:14px; height:14px; background:#1d4ed8; border-radius:50%;"></span>
            <span>Azul: Establecimiento de salud priorizado</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px;">
            <span style="display:inline-block; width:14px; height:14px; background:#d90429; border-radius:50%;"></span>
            <span>Rojo: Siniestro fatal</span>
        </div>
        <div style="display:flex; align-items:center; gap:8px; margin-top:6px;">
            <span style="display:inline-block; width:14px; height:14px; background:#f59e0b; border-radius:50%;"></span>
            <span>Amarillo: Coincidencia de b√∫squeda</span>
        </div>
    </div>
    
    
            <div class="folium-map" id="map_6d448bef4c214209dbf473b3d4e4b0f5" ></div>
        
    
      <div class="searchbar-wrap">
        <!-- Buscador por nombre (arriba) y c√≥digo (abajo) -->
        <div class="col-flex">
          <input id="q_name" type="text" placeholder="Buscar por nombre">
          <input id="q_code" type="text" placeholder="Buscar por c√≥digo">
        </div>
        <div class="row-flex">
          <button id="btn_search" class="btn-dark">Buscar</button>
          <button id="btn_clear" class="btn-gray">Limpiar</button>
        </div>
        <hr style="border:none;border-top:1px solid #e5e7eb; margin:4px 0;">
        <!-- Coordenadas: Longitud (arriba) y Latitud (abajo) -->
        <div class="col-flex" title="Coordenadas en grados decimales">
          <input id="q_x" type="text" placeholder="Longitud Ejem: -77.15435">
          <div class="row-flex">
            <input id="q_y" type="text" placeholder="Latitud Ejem: -15.54648">
            <button id="btn_xy_go" class="btn-green" title="Centrar en coordenadas">üîç</button>
            <button id="btn_xy_clear" class="btn-red"   title="Quitar pin de coordenadas">‚úï</button>
          </div>
        </div>
        <div class="row-flex">
          <button id="btn_measure_toggle" class="btn-dark pill" title="Medir distancia">Medir distancia</button>
          <span id="measure_state" class="hint" style="color:#991b1b">Desactivado</span>
        </div>
        <div class="row-flex">
          <button id="btn_open_gmaps" class="btn-dark" title="Abrir esta vista en Google Maps">Abrir en Google Maps</button>
        </div>
      </div>
    
</body>
<script>
    
    
            var map_6d448bef4c214209dbf473b3d4e4b0f5 = L.map(
                "map_6d448bef4c214209dbf473b3d4e4b0f5",
                {
                    center: [-17.64783064272727, -71.33777196],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 14,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);

            

        
    
            var tile_layer_5d974acfe3e844f59376338be96f3bf4 = L.tileLayer(
                "https://tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u0026copy; \u003ca href=\"https://www.openstreetmap.org/copyright\"\u003eOpenStreetMap\u003c/a\u003e contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_5d974acfe3e844f59376338be96f3bf4.addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);
        
    
            var feature_group_0f76818c6fd4c3d66664c7d202f98db6 = L.featureGroup(
                {
}
            );
        
    
            feature_group_0f76818c6fd4c3d66664c7d202f98db6.addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);
        
    
            var feature_group_142bb36e750775bfa1e5f0c960c6b20b = L.featureGroup(
                {
}
            );
        
    
            var circle_62765a9869c2b4a81435ce8050ccfbc9 = L.circle(
                [-17.65185454, -71.34179435],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_0bfe9f7c332b7a57985b3b2fa7e97487 = L.circle(
                [-17.65268394, -71.33634812],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_076ff7560dba9d5e06c36f4110b3ab1a = L.circle(
                [-17.65242835, -71.33664585],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_f3d1cdb3789b4eb6182cb6b266144f1b = L.circle(
                [-17.64437606, -71.34377752],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_1791d4bb173a627bbacd33805068abbc = L.circle(
                [-17.66006398, -71.3324777],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_0892b36ddd07587e167f7805172fe204 = L.circle(
                [-17.634884, -71.334828],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_81fb86651a308d9076c8fcbcea0f0403 = L.circle(
                [-17.65055996, -71.33266009],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_c48467a835c6c3b68586c7638d1e26c9 = L.circle(
                [-17.641547, -71.339129],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_f61793a74585079258ddfdcdc2f4a115 = L.circle(
                [-17.64434949, -71.34503948],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_7e4088541cc464394b5565ad29fd5fd1 = L.circle(
                [-17.643273, -71.341157],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            var circle_c9ddac0c4f5676019ef2b50e9abc97cb = L.circle(
                [-17.65011675, -71.33163445],
                {"bubblingMouseEvents": true, "className": "zs-buffer", "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 0.5, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 100, "stroke": true, "weight": 2}
            ).addTo(feature_group_142bb36e750775bfa1e5f0c960c6b20b);
        
    
            feature_group_142bb36e750775bfa1e5f0c960c6b20b.addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);
        
    
            var feature_group_4e9f7921fc39787f8d15ce6153f65dea = L.featureGroup(
                {
}
            );
        
    
            var circle_marker_da98e3a4b09c9a37b0c393667da2fd20 = L.circleMarker(
                [-17.65185454, -71.34179435],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_9dd262215a1a3d2318b3bad1a25770ed = L.popup({
  "maxWidth": 480,
});

        
            
                var html_2f3434164f516cd66b5cf2564ef10f56 = $(`<div id="html_2f3434164f516cd66b5cf2564ef10f56" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>2819</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.65185454</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.34179435</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>C.S. ALTO ILO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>OTROS CHALACA S/N ALTO ILO NUMERO S/N DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_9dd262215a1a3d2318b3bad1a25770ed.setContent(html_2f3434164f516cd66b5cf2564ef10f56);
            
        

        circle_marker_da98e3a4b09c9a37b0c393667da2fd20.bindPopup(popup_9dd262215a1a3d2318b3bad1a25770ed)
        ;

        
    
    
            circle_marker_da98e3a4b09c9a37b0c393667da2fd20.bindTooltip(
                `<div>
                     c.s. alto ilo | 2819
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_0d4ac41bbdd05f3440be26dedead2999 = L.circleMarker(
                [-17.65268394, -71.33634812],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_041df9abe08c1fca4cbd7c030b81f4a8 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_861b02812d352a37611681f406e1422f = $(`<div id="html_861b02812d352a37611681f406e1422f" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>23034</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.65268394</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.33634812</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>Centro Salud Mental Comunitario Ilo</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>AVENIDA 1 NUMERO 1 MANZANA C LOTE 01 URBANIZACION URB. Luis E. Valcarcel DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_041df9abe08c1fca4cbd7c030b81f4a8.setContent(html_861b02812d352a37611681f406e1422f);
            
        

        circle_marker_0d4ac41bbdd05f3440be26dedead2999.bindPopup(popup_041df9abe08c1fca4cbd7c030b81f4a8)
        ;

        
    
    
            circle_marker_0d4ac41bbdd05f3440be26dedead2999.bindTooltip(
                `<div>
                     centro salud mental comunitario ilo | 23034
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_6aaa1546c7ae81f9eb80371eef441cb2 = L.circleMarker(
                [-17.65242835, -71.33664585],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_2297f02ec4cc3ab64ae858be3aacb8f8 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_3a60cd50cfd74a40d73f8eae9e915cc3 = $(`<div id="html_3a60cd50cfd74a40d73f8eae9e915cc3" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>34031</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.65242835</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.33664585</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>C.S. PAMPA INALAMBRICA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>AVENIDA 1 C 1 A ESPALDA DEL HOSPITAL ILO ILO ILO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_2297f02ec4cc3ab64ae858be3aacb8f8.setContent(html_3a60cd50cfd74a40d73f8eae9e915cc3);
            
        

        circle_marker_6aaa1546c7ae81f9eb80371eef441cb2.bindPopup(popup_2297f02ec4cc3ab64ae858be3aacb8f8)
        ;

        
    
    
            circle_marker_6aaa1546c7ae81f9eb80371eef441cb2.bindTooltip(
                `<div>
                     c.s. pampa inalambrica | 34031
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_7b7787e2d09ab9f0c42585cc17e06f70 = L.circleMarker(
                [-17.64437606, -71.34377752],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_ee64ddbbc0c7fd601644a988ea9e6a46 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_8b2f45d8c1aa2a92ab94d5f9ce838d68 = $(`<div id="html_8b2f45d8c1aa2a92ab94d5f9ce838d68" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>25870</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.64437606</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.34377752</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>POSTA MEDICA POLICIAL ILO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>ZEPITA NUMERO 612 DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-2</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_ee64ddbbc0c7fd601644a988ea9e6a46.setContent(html_8b2f45d8c1aa2a92ab94d5f9ce838d68);
            
        

        circle_marker_7b7787e2d09ab9f0c42585cc17e06f70.bindPopup(popup_ee64ddbbc0c7fd601644a988ea9e6a46)
        ;

        
    
    
            circle_marker_7b7787e2d09ab9f0c42585cc17e06f70.bindTooltip(
                `<div>
                     posta medica policial ilo | 25870
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_85626b794938ba97bf04210e32bd0111 = L.circleMarker(
                [-17.66006398, -71.3324777],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_b290b5c681f4e366e6ad18c80717cdd4 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_140caacadeb97e81c0bacbb32b103fea = $(`<div id="html_140caacadeb97e81c0bacbb32b103fea" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>21767</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.66006398</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.3324777</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>POLICLINICO SAN GERONIMO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>OTROS URBANIZACION LOS OLIVARES MZ. 2 LOTE 14 Y 15 PAMPA INALAMBRICA DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_b290b5c681f4e366e6ad18c80717cdd4.setContent(html_140caacadeb97e81c0bacbb32b103fea);
            
        

        circle_marker_85626b794938ba97bf04210e32bd0111.bindPopup(popup_b290b5c681f4e366e6ad18c80717cdd4)
        ;

        
    
    
            circle_marker_85626b794938ba97bf04210e32bd0111.bindTooltip(
                `<div>
                     policlinico san geronimo | 21767
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_cc31e6f11f26472be5a2d6c160ab17e9 = L.circleMarker(
                [-17.634884, -71.334828],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_543441c0e9f46adede18b393826e8ce7 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_e451981b6504105048d8b79afdd51a36 = $(`<div id="html_e451981b6504105048d8b79afdd51a36" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>2817</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.634884</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.334828</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>C.S. MIRAMAR</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>AVENIDA AVENIDA PACIFICO S/N UPIS MIRAMAR S/N AVENIDA PACIFICO S/N UPIS MIRAMAR ILO ILO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_543441c0e9f46adede18b393826e8ce7.setContent(html_e451981b6504105048d8b79afdd51a36);
            
        

        circle_marker_cc31e6f11f26472be5a2d6c160ab17e9.bindPopup(popup_543441c0e9f46adede18b393826e8ce7)
        ;

        
    
    
            circle_marker_cc31e6f11f26472be5a2d6c160ab17e9.bindTooltip(
                `<div>
                     c.s. miramar | 2817
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_0c44142a268dd672469b5e437ae54c0c = L.circleMarker(
                [-17.65055996, -71.33266009],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_e6e580dac32f0d63124907df7aa2d87e = L.popup({
  "maxWidth": 480,
});

        
            
                var html_7390d1af87ee571786e5ce29b9c2b7b9 = $(`<div id="html_7390d1af87ee571786e5ce29b9c2b7b9" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>30305</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.65055996</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.33266009</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>POLICLINICO MANCHEGO SAC</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>URBANIZACION LUIS E VALCARCEL 61 1 A DOS CUADRAS DE LA MUNICIPALIDAD DEL CENTRO POBLADO PAMPA INALAMBRICA ILO ILO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_e6e580dac32f0d63124907df7aa2d87e.setContent(html_7390d1af87ee571786e5ce29b9c2b7b9);
            
        

        circle_marker_0c44142a268dd672469b5e437ae54c0c.bindPopup(popup_e6e580dac32f0d63124907df7aa2d87e)
        ;

        
    
    
            circle_marker_0c44142a268dd672469b5e437ae54c0c.bindTooltip(
                `<div>
                     policlinico manchego sac | 30305
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_56affbd139ca73743172b033844636b1 = L.circleMarker(
                [-17.641547, -71.339129],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_e141d80c9de9ddcaf2210333a2d3760a = L.popup({
  "maxWidth": 480,
});

        
            
                var html_a8b0d1349e9c5ef482dd746bbb5d2f1e = $(`<div id="html_a8b0d1349e9c5ef482dd746bbb5d2f1e" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>27850</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.641547</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.339129</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>CLINICA SAGRADO CORAZON</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>URBANIZACION URBANIZACION ADUANEROS L 02 Altura del ex-cine Ilo en la Av. Lino Urquieta, subiendo por el CEO Cesar Vallejo ILO ILO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_e141d80c9de9ddcaf2210333a2d3760a.setContent(html_a8b0d1349e9c5ef482dd746bbb5d2f1e);
            
        

        circle_marker_56affbd139ca73743172b033844636b1.bindPopup(popup_e141d80c9de9ddcaf2210333a2d3760a)
        ;

        
    
    
            circle_marker_56affbd139ca73743172b033844636b1.bindTooltip(
                `<div>
                     clinica sagrado corazon | 27850
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_48929c6d2ed5d042a02e0693aeceea16 = L.circleMarker(
                [-17.64434949, -71.34503948],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_f14158294ca9296509d52b83bff46946 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_abd2de30c9f695eb93295504d249f133 = $(`<div id="html_abd2de30c9f695eb93295504d249f133" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>18616</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.64434949</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.34503948</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>POLICLINICO SERVIMEDIQ</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>JR. ABTAO N¬∫ 437 - 443 DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_f14158294ca9296509d52b83bff46946.setContent(html_abd2de30c9f695eb93295504d249f133);
            
        

        circle_marker_48929c6d2ed5d042a02e0693aeceea16.bindPopup(popup_f14158294ca9296509d52b83bff46946)
        ;

        
    
    
            circle_marker_48929c6d2ed5d042a02e0693aeceea16.bindTooltip(
                `<div>
                     policlinico servimediq | 18616
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_6e2d71c3f37453c511db45c84eebe35f = L.circleMarker(
                [-17.643273, -71.341157],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_e559ddff9d488c552cc9b0b2f887d222 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_a3f404299af4caa93116a69744aa9b69 = $(`<div id="html_a3f404299af4caa93116a69744aa9b69" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>30209</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.643273</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.341157</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>Centro Medico Especializado MMD 4M EIRL</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>CALLE Moquegua NUMERO 886 PISO 2 DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>0</td></tr></table></div></div>`)[0];
                popup_e559ddff9d488c552cc9b0b2f887d222.setContent(html_a3f404299af4caa93116a69744aa9b69);
            
        

        circle_marker_6e2d71c3f37453c511db45c84eebe35f.bindPopup(popup_e559ddff9d488c552cc9b0b2f887d222)
        ;

        
    
    
            circle_marker_6e2d71c3f37453c511db45c84eebe35f.bindTooltip(
                `<div>
                     centro medico especializado mmd 4m eirl | 30209
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            var circle_marker_f0c90b869fa694cc0956edd66a994328 = L.circleMarker(
                [-17.65011675, -71.33163445],
                {"bubblingMouseEvents": true, "color": "#1d4ed8", "dashArray": null, "dashOffset": null, "fill": true, "fillColor": "#1d4ed8", "fillOpacity": 1.0, "fillRule": "evenodd", "lineCap": "round", "lineJoin": "round", "opacity": 1.0, "radius": 5, "stroke": true, "weight": 2}
            ).addTo(feature_group_4e9f7921fc39787f8d15ce6153f65dea);
        
    
        var popup_690f745a33646fbc7defa88086d256f8 = L.popup({
  "maxWidth": 480,
});

        
            
                var html_e3e56a34717b87a932c8adc4ef5296c8 = $(`<div id="html_e3e56a34717b87a932c8adc4ef5296c8" style="width: 100.0%; height: 100.0%;"><div style='font-size:12px;'><div style='font-weight:700; margin-bottom:6px;'>Establecimiento de salud priorizado</div><table style='border-collapse:collapse;'><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>codigo_unico</th><td style='padding:2px 0;'>29951</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>latitud</th><td style='padding:2px 0;'>-17.65011675</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>longitud</th><td style='padding:2px 0;'>-71.33163445</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>nombre_establecimiento</th><td style='padding:2px 0;'>POLICLINICO SERSIMED SEDE ILO</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>direccion</th><td style='padding:2px 0;'>URBANIZACION LUIS ERNESTO VALCARCEL NUMERO 53 PISO 1 MANZANA 53 LOTE 02 URBANIZACION LUIS ERNESTO VALCARCEL DISTRITO ILO PROVINCIA ILO DEPARTAMENTO MOQUEGUA</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>categoria</th><td style='padding:2px 0;'>I-3</td></tr><tr><th style='text-align:left; padding:2px 8px 2px 0; white-space:nowrap;'>siniestros_fatales</th><td style='padding:2px 0;'>1</td></tr></table></div></div>`)[0];
                popup_690f745a33646fbc7defa88086d256f8.setContent(html_e3e56a34717b87a932c8adc4ef5296c8);
            
        

        circle_marker_f0c90b869fa694cc0956edd66a994328.bindPopup(popup_690f745a33646fbc7defa88086d256f8)
        ;

        
    
    
            circle_marker_f0c90b869fa694cc0956edd66a994328.bindTooltip(
                `<div>
                     policlinico sersimed sede ilo | 29951
                 </div>`,
                {
  "opacity": 0,
  "sticky": false,
}
            );
        
    
            feature_group_4e9f7921fc39787f8d15ce6153f65dea.addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);
        
    
            var feature_group_c9fa70c5e7a488be00c2927e168e1a38 = L.featureGroup(
                {
}
            );
        
    
            feature_group_c9fa70c5e7a488be00c2927e168e1a38.addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);
        
    
            map_6d448bef4c214209dbf473b3d4e4b0f5.fitBounds(
                [[-17.65185454, -71.34179435], [-17.65268394, -71.33634812], [-17.65242835, -71.33664585], [-17.64437606, -71.34377752], [-17.66006398, -71.3324777], [-17.634884, -71.334828], [-17.65055996, -71.33266009], [-17.641547, -71.339129], [-17.64434949, -71.34503948], [-17.643273, -71.341157], [-17.65011675, -71.33163445]],
                {}
            );
        
    
            var layer_control_93b707e52089025a474ad78a77861783_layers = {
                base_layers : {
                    "openstreetmap" : tile_layer_5d974acfe3e844f59376338be96f3bf4,
                },
                overlays :  {
                    "contorno" : feature_group_0f76818c6fd4c3d66664c7d202f98db6,
                    "establecimientos: buffers (100m)" : feature_group_142bb36e750775bfa1e5f0c960c6b20b,
                    "establecimientos: puntos" : feature_group_4e9f7921fc39787f8d15ce6153f65dea,
                    "siniestros fatales" : feature_group_c9fa70c5e7a488be00c2927e168e1a38,
                },
            };
            let layer_control_93b707e52089025a474ad78a77861783 = L.control.layers(
                layer_control_93b707e52089025a474ad78a77861783_layers.base_layers,
                layer_control_93b707e52089025a474ad78a77861783_layers.overlays,
                {
  "position": "topright",
  "collapsed": true,
  "autoZIndex": true,
}
            ).addTo(map_6d448bef4c214209dbf473b3d4e4b0f5);

        
    
        feature_group_4e9f7921fc39787f8d15ce6153f65dea.bringToFront();
        feature_group_c9fa70c5e7a488be00c2927e168e1a38.bringToFront();
    
    
      (function() {
        var puntosLayer = feature_group_4e9f7921fc39787f8d15ce6153f65dea;
        var defaultColor = "#1d4ed8";
        var hiliteColor  = "#f59e0b";

        // --- helpers ---
        function eachMarker(fn) {
          if (!puntosLayer || !puntosLayer._layers) return;
          Object.values(puntosLayer._layers).forEach(function(ly) {
            if (ly && typeof ly.setStyle === 'function') fn(ly);
          });
        }

        function getTooltipText(ly) {
          try {
            var t = ly.getTooltip();
            return t ? String(t.getContent() || "").toLowerCase() : "";
          } catch(e) {
            return "";
          }
        }

        function clearHighlights() {
          eachMarker(function(ly) { ly.setStyle({ color: defaultColor, fillColor: defaultColor }); });
        }

        // --- b√∫squeda por campos ---
        function searchAndHighlight() {
          var qn_raw = (document.getElementById('q_name').value || "");
          var qc_raw = (document.getElementById('q_code').value || "");
          var qn = qn_raw.toLowerCase();
          var qc = qc_raw.toLowerCase();

          var useName = qn_raw.trim().length > 0;
          var useCode = qc_raw.trim().length > 0;

          clearHighlights();
          if (!useName && !useCode) return;

          var matchedLatLngs = [];
          eachMarker(function(ly) {
            var txt = getTooltipText(ly); // "nombre | codigo"
            var parts = txt.split('|', 2);
            var nameTxt = (parts[0] || '').trim();
            var codeTxt = (parts[1] || '').trim();

            var matchName = useName ? (nameTxt.indexOf(qn) !== -1) : false;
            var matchCode = useCode ? (codeTxt.indexOf(qc) !== -1) : false;

            if (matchName || matchCode) {
              ly.setStyle({ color: hiliteColor, fillColor: hiliteColor });
              if (ly.getLatLng) matchedLatLngs.push(ly.getLatLng());
            }
          });

          if (matchedLatLngs.length > 0) {
            var group = L.featureGroup(matchedLatLngs.map(function(ll) { return L.marker(ll); }));
            try { ly_map.fitBounds(group.getBounds().pad(0.2)); } catch(e) {}
          }
        }

        var ly_map = (function() {
          var _m = null;
          try { _m = puntosLayer._map || null; } catch(e) {}
          return _m;
        })();

        document.getElementById('btn_search').addEventListener('click', searchAndHighlight);
        document.getElementById('btn_clear').addEventListener('click', function() {
          document.getElementById('q_name').value = "";
          document.getElementById('q_code').value = "";
          clearHighlights();
        });
        ['q_name','q_code'].forEach(function(id) {
          var el = document.getElementById(id);
          el.addEventListener('keydown', function(ev) { if (ev.key === 'Enter') searchAndHighlight(); });
        });

        // --- pin por coordenadas ---
        var coordLayer = L.layerGroup().addTo(ly_map);
        function goToXY() {
          var x = parseFloat((document.getElementById('q_x').value || '').replace(',', '.'));
          var y = parseFloat((document.getElementById('q_y').value || '').replace(',', '.'));
          if (!isFinite(x) || !isFinite(y)) return;
          coordLayer.clearLayers();
          var mk = L.marker([y, x], { draggable:false, title: 'Punto (Y,X): '+y+', '+x });
          mk.addTo(coordLayer);
          ly_map.setView([y, x], Math.max(ly_map.getZoom(), 17));
        }
        function clearXY() { coordLayer.clearLayers(); }

        document.getElementById('btn_xy_go').addEventListener('click', goToXY);
        document.getElementById('btn_xy_clear').addEventListener('click', clearXY);

        // --- medici√≥n (dos puntos arrastrables + etiqueta sobre l√≠nea) ---
        var measuring = false;
        var mA = null, mB = null, mLine = null;

        function haversine(lat1, lon1, lat2, lon2) {
          var R = 6371000; // m
          var dLat = (lat2-lat1) * Math.PI/180;
          var dLon = (lon2-lon1) * Math.PI/180;
          var a = Math.sin(dLat/2)*Math.sin(dLat/2) +
                  Math.cos(lat1*Math.PI/180)*Math.cos(lat2*Math.PI/180) *
                  Math.sin(dLon/2)*Math.sin(dLon/2);
          var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
          return R * c;
        }

        function midPoint(a, b) {
          return L.latLng( (a.lat + b.lat)/2, (a.lng + b.lng)/2 );
        }

        function updateMeasure() {
          if (!(mA && mB)) return;
          var a = mA.getLatLng(), b = mB.getLatLng();
          var d = haversine(a.lat, a.lng, b.lat, b.lng);
          var txt = (d >= 1000) ? (d/1000).toFixed(3)+' km' : Math.round(d)+' m';

          if (!mLine) {
            mLine = L.polyline([a, b], { color: '#111827', weight: 3, dashArray: '6,4' })
              .bindTooltip(txt, { permanent:true, direction:'center', className:'dist-on-line' })
              .addTo(ly_map);
          } else {
            mLine.setLatLngs([a, b]);
            mLine.setTooltipContent(txt);
          }
        }

        function clearMeasure() {
          if (mA) ly_map.removeLayer(mA); mA = null;
          if (mB) ly_map.removeLayer(mB); mB = null;
          if (mLine) ly_map.removeLayer(mLine); mLine = null;
        }

        function toggleMeasure() {
          measuring = !measuring;
          var stateSpan = document.getElementById('measure_state');
          stateSpan.textContent = measuring ? 'Activo' : 'Desactivado';
          stateSpan.style.color = measuring ? '#065f46' : '#991b1b';
          if (!measuring) {
            clearMeasure();
            ly_map.getContainer().style.cursor = '';
            return;
          }
          ly_map.getContainer().style.cursor = 'crosshair';
        }

        document.getElementById('btn_measure_toggle').addEventListener('click', toggleMeasure);

        ly_map.on('click', function(ev) {
          if (!measuring) return;
          if (!mA) {
            mA = L.marker(ev.latlng, { draggable:true, title:'Punto A' }).addTo(ly_map);
            mA.on('drag', updateMeasure);
          } else if (!mB) {
            mB = L.marker(ev.latlng, { draggable:true, title:'Punto B' }).addTo(ly_map);
            mB.on('drag', updateMeasure);
          } else {
            // Si ya existen A y B, mover B al nuevo click
            mB.setLatLng(ev.latlng);
          }
          updateMeasure();
        });

        // --- Abrir en Google Maps la vista actual ---
        function openInGoogleMaps() {
          if (!ly_map) return;
          var c = ly_map.getCenter();
          var z = ly_map.getZoom();
          // URL estilo @lat,lon,zoomz
          var url = 'https://www.google.com/maps/@' + c.lat + ',' + c.lng + ',' + z + 'z';
          window.open(url, '_blank');
        }
        document.getElementById('btn_open_gmaps').addEventListener('click', openInGoogleMaps);

      })();
    
</script>
</html>